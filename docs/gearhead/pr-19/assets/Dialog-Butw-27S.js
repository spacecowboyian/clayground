import{a as Mr}from"./Button-kWM7j8ju.js";import{$ as A,m as Oe,b as Q,f as $e,o as Te,l as Sr,a as B,g as Z,d as U,c as j,e as O,k as T,i as Ie,p as de,h as kr}from"./utils-LaqegW2K.js";import{b as De,$ as Ar,c as Br}from"./RSPContexts-Dr342rEE.js";import{e as Fr,b as wr,a as Kr,$ as Le,c as Rr,d as Ne}from"./OverlayArrow-COac6N-q.js";import{$ as Or,a as Tr,b as Ir,c as Lr,d as He,g as Nr,i as Hr,h as _r}from"./Collection-B0KnfY9F.js";import{c as _e,d as zr,e as Vr,f as Ur,g as jr}from"./Separator-3hPFwPTm.js";import{R as b,r as d}from"./index-Dq4ZvVuH.js";import{$ as Wr}from"./SelectionIndicator-CoNWZYQ1.js";import{c as Gr,a as ze,b as Zr}from"./SharedElementTransition-BV-eLIt9.js";import{a as Jr}from"./Text-VdVr9Ew-.js";import{c as le,d as qr,m as Qr,e as Xr,$ as Ve,a as Yr,b as Ue}from"./SelectionManager-DSMsdBE7.js";import{a as ce,$ as ea}from"./usePress-B20iDxoD.js";import{I as ta,e as Me,a as ra,m as z,d as aa,$ as oa,v as na,B as Se,f as la,i as je,y as ke,C as sa,c as ia,g as ua,h as da,t as fe}from"./useFocusRing-ubySK4Mk.js";import{$ as We}from"./useLocalizedStringFormatter-CFq54QRB.js";import{$ as ca}from"./useControlledState-BJxFPo-I.js";import{O as fa}from"./index-BodQkoVg.js";import{$ as $a,a as ba}from"./animation-D0gRqoKa.js";import{b as pa}from"./Hidden-o7BpdpsO.js";import{$ as ga}from"./context-DWzCBS5d.js";import{$ as va}from"./useLabels-CQ1wxQuf.js";import{$ as ma}from"./VisuallyHidden-Bfe7IVUU.js";const Ge=b.forwardRef(({children:t,...e},r)=>{let o=d.useRef(!1),a=d.useContext(ce),l=A(a||{},{...e,register(){o.current=!0,a&&a.register()}});return l.ref=Oe(r||(a==null?void 0:a.ref)),ta(a,l.ref),d.useEffect(()=>{o.current||(o.current=!0)},[]),b.createElement(ce.Provider,{value:l},t)});function xa({children:t}){let e=d.useMemo(()=>({register:()=>{}}),[]);return b.createElement(ce.Provider,{value:e},t)}function ya(t){let{ref:e,onInteractOutside:r,isDisabled:o,onInteractOutsideStart:a}=t,l=d.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),s=Me(n=>{r&&Ae(n,e)&&(a&&a(n),l.current.isPointerDown=!0)}),u=Me(n=>{r&&r(n)});d.useEffect(()=>{let n=l.current;if(o)return;const c=e.current,$=ra(c);if(typeof PointerEvent<"u"){let p=m=>{n.isPointerDown&&Ae(m,e)&&u(m),n.isPointerDown=!1};return $.addEventListener("pointerdown",s,!0),$.addEventListener("click",p,!0),()=>{$.removeEventListener("pointerdown",s,!0),$.removeEventListener("click",p,!0)}}},[e,o])}function Ae(t,e){if(t.button>0)return!1;if(t.target){const r=t.target.ownerDocument;if(!r||!z(r.documentElement,t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!t.composedPath().includes(e.current):!1}const S=[];function ha(t,e){let{onClose:r,shouldCloseOnBlur:o,isOpen:a,isDismissable:l=!1,isKeyboardDismissDisabled:s=!1,shouldCloseOnInteractOutside:u}=t,n=d.useRef(void 0);d.useEffect(()=>{if(a&&!S.includes(e))return S.push(e),()=>{let i=S.indexOf(e);i>=0&&S.splice(i,1)}},[a,e]);let c=()=>{S[S.length-1]===e&&r&&r()},$=i=>{const g=S[S.length-1];n.current=g,(!u||u(i.target))&&g===e&&(i.stopPropagation(),i.preventDefault())},p=i=>{(!u||u(i.target))&&(S[S.length-1]===e&&(i.stopPropagation(),i.preventDefault()),n.current===e&&c()),n.current=void 0},m=i=>{i.key==="Escape"&&!s&&!i.nativeEvent.isComposing&&(i.stopPropagation(),i.preventDefault(),c())};ya({ref:e,onInteractOutside:l&&a?p:void 0,onInteractOutsideStart:$});let{focusWithinProps:f}=aa({isDisabled:!o,onBlurWithin:i=>{!i.relatedTarget||Gr(i.relatedTarget)||(!u||u(i.relatedTarget))&&(r==null||r())}}),h=i=>{i.target===i.currentTarget&&i.preventDefault()};return{overlayProps:{onKeyDown:m,...f},underlayProps:{onPointerDown:h}}}function Ze(t,e,r){let{type:o}=t,{isOpen:a}=e;d.useEffect(()=>{r&&r.current&&Fr.set(r.current,e.close)});let l;o==="menu"?l=!0:o==="listbox"&&(l="listbox");let s=Q();return{triggerProps:{"aria-haspopup":l,"aria-expanded":a,"aria-controls":a?s:void 0,onPress:e.toggle},overlayProps:{id:s}}}const _=typeof document<"u"&&window.visualViewport;let G=0,se;function Pa(t={}){let{isDisabled:e}=t;$e(()=>{if(!e)return G++,G===1&&(oa()?se=Ca():se=Ea()),()=>{G--,G===0&&se()}},[e])}function Ea(){let t=window.innerWidth-document.documentElement.clientWidth;return Te(t>0&&("scrollbarGutter"in document.documentElement.style?ie(document.documentElement,"scrollbarGutter","stable"):ie(document.documentElement,"paddingRight",`${t}px`)),ie(document.documentElement,"overflow","hidden"))}function Ca(){let t,e=!1,r=n=>{let c=n.target;t=qr(c)?c:_e(c,!0),e=!1;let $=c.ownerDocument.defaultView.getSelection();$&&!$.isCollapsed&&$.containsNode(c,!0)&&(e=!0),n.composedPath().some(p=>p instanceof HTMLInputElement&&p.type==="range")&&(e=!0),"selectionStart"in c&&"selectionEnd"in c&&c.selectionStart<c.selectionEnd&&c.ownerDocument.activeElement===c&&(e=!0)},o=document.createElement("style");o.textContent=`
@layer {
  * {
    overscroll-behavior: contain;
  }
}`.trim(),document.head.prepend(o);let a=n=>{if(!(n.touches.length===2||e)){if(!t||t===document.documentElement||t===document.body){n.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&n.preventDefault()}},l=n=>{let c=n.target,$=n.relatedTarget;if($&&le($))$.focus({preventScroll:!0}),Be($,le(c));else if(!$){var p;let m=(p=c.parentElement)===null||p===void 0?void 0:p.closest("[tabindex]");m==null||m.focus({preventScroll:!0})}},s=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(n){let c=document.activeElement!=null&&le(document.activeElement);s.call(this,{...n,preventScroll:!0}),(!n||!n.preventScroll)&&Be(this,c)};let u=Te(ue(document,"touchstart",r,{passive:!1,capture:!0}),ue(document,"touchmove",a,{passive:!1,capture:!0}),ue(document,"blur",l,!0));return()=>{u(),o.remove(),HTMLElement.prototype.focus=s}}function ie(t,e,r){let o=t.style[e];return t.style[e]=r,()=>{t.style[e]=o}}function ue(t,e,r,o){return t.addEventListener(e,r,o),()=>{t.removeEventListener(e,r,o)}}function Be(t,e){e||!_?Fe(t):_.addEventListener("resize",()=>Fe(t),{once:!0})}function Fe(t){let e=document.scrollingElement||document.documentElement,r=t;for(;r&&r!==e;){let o=_e(r);if(o!==document.documentElement&&o!==document.body&&o!==r){let a=o.getBoundingClientRect(),l=r.getBoundingClientRect();if(l.top<a.top||l.bottom>a.top+r.clientHeight){let s=a.bottom;_&&(s=Math.min(s,_.offsetTop+_.height));let u=l.top-a.top-((s-a.top)/2-l.height/2);o.scrollTo({top:Math.max(0,Math.min(o.scrollHeight-o.clientHeight,o.scrollTop+u)),behavior:"smooth"})}}r=o.parentElement}}var Je={};Je={dismiss:"تجاهل"};var qe={};qe={dismiss:"Отхвърляне"};var Qe={};Qe={dismiss:"Odstranit"};var Xe={};Xe={dismiss:"Luk"};var Ye={};Ye={dismiss:"Schließen"};var et={};et={dismiss:"Απόρριψη"};var tt={};tt={dismiss:"Dismiss"};var rt={};rt={dismiss:"Descartar"};var at={};at={dismiss:"Lõpeta"};var ot={};ot={dismiss:"Hylkää"};var nt={};nt={dismiss:"Rejeter"};var lt={};lt={dismiss:"התעלם"};var st={};st={dismiss:"Odbaci"};var it={};it={dismiss:"Elutasítás"};var ut={};ut={dismiss:"Ignora"};var dt={};dt={dismiss:"閉じる"};var ct={};ct={dismiss:"무시"};var ft={};ft={dismiss:"Atmesti"};var $t={};$t={dismiss:"Nerādīt"};var bt={};bt={dismiss:"Lukk"};var pt={};pt={dismiss:"Negeren"};var gt={};gt={dismiss:"Zignoruj"};var vt={};vt={dismiss:"Descartar"};var mt={};mt={dismiss:"Dispensar"};var xt={};xt={dismiss:"Revocare"};var yt={};yt={dismiss:"Пропустить"};var ht={};ht={dismiss:"Zrušiť"};var Pt={};Pt={dismiss:"Opusti"};var Et={};Et={dismiss:"Odbaci"};var Ct={};Ct={dismiss:"Avvisa"};var Dt={};Dt={dismiss:"Kapat"};var Mt={};Mt={dismiss:"Скасувати"};var St={};St={dismiss:"取消"};var kt={};kt={dismiss:"關閉"};var At={};At={"ar-AE":Je,"bg-BG":qe,"cs-CZ":Qe,"da-DK":Xe,"de-DE":Ye,"el-GR":et,"en-US":tt,"es-ES":rt,"et-EE":at,"fi-FI":ot,"fr-FR":nt,"he-IL":lt,"hr-HR":st,"hu-HU":it,"it-IT":ut,"ja-JP":dt,"ko-KR":ct,"lt-LT":ft,"lv-LV":$t,"nb-NO":bt,"nl-NL":pt,"pl-PL":gt,"pt-BR":vt,"pt-PT":mt,"ro-RO":xt,"ru-RU":yt,"sk-SK":ht,"sl-SI":Pt,"sr-SP":Et,"sv-SE":Ct,"tr-TR":Dt,"uk-UA":Mt,"zh-CN":St,"zh-TW":kt};function Da(t){return t&&t.__esModule?t.default:t}function we(t){let{onDismiss:e,...r}=t,o=We(Da(At),"@react-aria/overlays"),a=va(r,o.format("dismiss")),l=()=>{e&&e()};return b.createElement(ma,null,b.createElement("button",{...a,tabIndex:-1,onClick:l,style:{width:1,height:1}}))}const Ma=typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype;let H=new WeakMap,D=[];function Sa(t,e){let r=na(t==null?void 0:t[0]),o=e instanceof r.Element?{root:e}:e;var a;let l=(a=o==null?void 0:o.root)!==null&&a!==void 0?a:document.body,s=(o==null?void 0:o.shouldUseInert)&&Ma,u=new Set(t),n=new Set,c=i=>s&&i instanceof r.HTMLElement?i.inert:i.getAttribute("aria-hidden")==="true",$=(i,g)=>{s&&i instanceof r.HTMLElement?i.inert=g:g?i.setAttribute("aria-hidden","true"):(i.removeAttribute("aria-hidden"),i instanceof r.HTMLElement&&(i.inert=!1))},p=i=>{for(let y of i.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))u.add(y);let g=y=>{if(n.has(y)||u.has(y)||y.parentElement&&n.has(y.parentElement)&&y.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let k of u)if(z(y,k))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},v=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:g}),C=g(i);if(C===NodeFilter.FILTER_ACCEPT&&m(i),C!==NodeFilter.FILTER_REJECT){let y=v.nextNode();for(;y!=null;)m(y),y=v.nextNode()}},m=i=>{var g;let v=(g=H.get(i))!==null&&g!==void 0?g:0;c(i)&&v===0||(v===0&&$(i,!0),n.add(i),H.set(i,v+1))};D.length&&D[D.length-1].disconnect(),p(l);let f=new MutationObserver(i=>{for(let g of i)if(g.type==="childList"&&g.target.isConnected&&![...u,...n].some(v=>z(v,g.target)))for(let v of g.addedNodes)(v instanceof HTMLElement||v instanceof SVGElement)&&(v.dataset.liveAnnouncer==="true"||v.dataset.reactAriaTopLayer==="true")?u.add(v):v instanceof Element&&p(v)});f.observe(l,{childList:!0,subtree:!0});let h={visibleNodes:u,hiddenNodes:n,observe(){f.observe(l,{childList:!0,subtree:!0})},disconnect(){f.disconnect()}};return D.push(h),()=>{f.disconnect();for(let i of n){let g=H.get(i);g!=null&&(g===1?($(i,!1),H.delete(i)):H.set(i,g-1))}h===D[D.length-1]?(D.pop(),D.length&&D[D.length-1].observe()):D.splice(D.indexOf(h),1)}}function ka(t){let e=D[D.length-1];if(e&&!e.visibleNodes.has(t))return e.visibleNodes.add(t),()=>{e.visibleNodes.delete(t)}}function Aa(t,e){let{triggerRef:r,popoverRef:o,groupRef:a,isNonModal:l,isKeyboardDismissDisabled:s,shouldCloseOnInteractOutside:u,...n}=t,c=n.trigger==="SubmenuTrigger",{overlayProps:$,underlayProps:p}=ha({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!l||c,isKeyboardDismissDisabled:s,shouldCloseOnInteractOutside:u},a??o),{overlayProps:m,arrowProps:f,placement:h,triggerAnchorPoint:i}=wr({...n,targetRef:r,overlayRef:o,isOpen:e.isOpen,onClose:l&&!c?e.close:null});return Pa({isDisabled:l||!e.isOpen}),d.useEffect(()=>{if(e.isOpen&&o.current){var g,v;return l?ka((g=a==null?void 0:a.current)!==null&&g!==void 0?g:o.current):Sa([(v=a==null?void 0:a.current)!==null&&v!==void 0?v:o.current],{shouldUseInert:!0})}},[l,e.isOpen,o,a]),{popoverProps:A($,m),arrowProps:f,underlayProps:p,placement:h,triggerAnchorPoint:i}}const Bt=b.createContext(null);function Ke(t){let e=Sr(),{portalContainer:r=e?null:document.body,isExiting:o}=t,[a,l]=d.useState(!1),s=d.useMemo(()=>({contain:a,setContain:l}),[a,l]),{getContainer:u}=Kr();if(!t.portalContainer&&u&&(r=u()),!r)return null;let n=t.children;return t.disableFocusManagement||(n=b.createElement(ze,{restoreFocus:!0,contain:(t.shouldContainFocus||a)&&!o},n)),n=b.createElement(Bt.Provider,{value:s},b.createElement(xa,null,n)),fa.createPortal(n,r)}function Ba(){let t=d.useContext(Bt),e=t==null?void 0:t.setContain;$e(()=>{e==null||e(!0)},[e])}var Ft={};Ft={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var wt={};wt={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Kt={};Kt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Rt={};Rt={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Ot={};Ot={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Tt={};Tt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var It={};It={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Lt={};Lt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Nt={};Nt={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Ht={};Ht={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var _t={};_t={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var zt={};zt={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Vt={};Vt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Ut={};Ut={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var jt={};jt={longPressMessage:"Premi a lungo o premi Alt + Freccia giù per aprire il menu"};var Wt={};Wt={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Gt={};Gt={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Zt={};Zt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Jt={};Jt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var qt={};qt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Qt={};Qt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Xt={};Xt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Yt={};Yt={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var er={};er={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var tr={};tr={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var rr={};rr={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var ar={};ar={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var or={};or={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var nr={};nr={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var lr={};lr={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var sr={};sr={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var ir={};ir={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var ur={};ur={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var dr={};dr={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var cr={};cr={"ar-AE":Ft,"bg-BG":wt,"cs-CZ":Kt,"da-DK":Rt,"de-DE":Ot,"el-GR":Tt,"en-US":It,"es-ES":Lt,"et-EE":Nt,"fi-FI":Ht,"fr-FR":_t,"he-IL":zt,"hr-HR":Vt,"hu-HU":Ut,"it-IT":jt,"ja-JP":Wt,"ko-KR":Gt,"lt-LT":Zt,"lv-LV":Jt,"nb-NO":qt,"nl-NL":Qt,"pl-PL":Xt,"pt-BR":Yt,"pt-PT":er,"ro-RO":tr,"ru-RU":rr,"sk-SK":ar,"sl-SI":or,"sr-SP":nr,"sv-SE":lr,"tr-TR":sr,"uk-UA":ir,"zh-CN":ur,"zh-TW":dr};function Fa(t){return t&&t.__esModule?t.default:t}function wa(t,e,r){let{type:o="menu",isDisabled:a,trigger:l="press"}=t,s=Q(),{triggerProps:u,overlayProps:n}=Ze({type:o},e,r),c=f=>{if(!a&&!(l==="longPress"&&!f.altKey)&&r&&r.current)switch(f.key){case"Enter":case" ":if(l==="longPress"||f.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},$=We(Fa(cr),"@react-aria/menu"),{longPressProps:p}=Qr({isDisabled:a||l!=="longPress",accessibilityDescription:$.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),m={preventFocusOnPress:!0,onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!a&&(Se(f.target),e.open(f.pointerType==="virtual"?"first":null))},onPress(f){f.pointerType==="touch"&&!a&&(Se(f.target),e.toggle())}};return delete u.onPress,{menuTriggerProps:{...u,...l==="press"?m:p,id:s,onKeyDown:c},menuProps:{...n,"aria-labelledby":s,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const fr=new WeakMap;function Ka(t,e,r){let{shouldFocusWrap:o=!0,onKeyDown:a,onKeyUp:l,...s}=t;!t["aria-label"]&&t["aria-labelledby"];let u=B(t,{labelable:!0}),{listProps:n}=zr({...s,ref:r,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:o,linkBehavior:"override"});return fr.set(e,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:A(u,{onKeyDown:a,onKeyUp:l},{role:"menu",...n,onKeyDown:c=>{var $;(c.key!=="Escape"||t.shouldUseVirtualFocus)&&(($=n.onKeyDown)===null||$===void 0||$.call(n,c))}})}}function Ra(t,e,r){let{id:o,key:a,closeOnSelect:l,shouldCloseOnSelect:s,isVirtualized:u,"aria-haspopup":n,onPressStart:c,onPressUp:$,onPress:p,onPressChange:m,onPressEnd:f,onClick:h,onHoverStart:i,onHoverChange:g,onHoverEnd:v,onKeyDown:C,onKeyUp:y,onFocus:k,onFocusChange:Y,onBlur:ee,selectionManager:E=e.selectionManager}=t,M=!!n,F=M&&t["aria-expanded"]==="true";var I;let L=(I=t.isDisabled)!==null&&I!==void 0?I:E.isDisabled(a);var te;let ve=(te=t.isSelected)!==null&&te!==void 0?te:E.isSelected(a),w=fr.get(e),P=e.collection.getItem(a),me=t.onClose||w.onClose,pr=la(),gr=()=>{var x;if(!M&&(!(P==null||(x=P.props)===null||x===void 0)&&x.onAction?P.props.onAction():t.onAction&&t.onAction(a),w.onAction)){let N=w.onAction;N(a)}},re="menuitem";M||(E.selectionMode==="single"?re="menuitemradio":E.selectionMode==="multiple"&&(re="menuitemcheckbox"));let xe=Z(),ye=Z(),he=Z(),W={id:o,"aria-disabled":L||void 0,role:re,"aria-label":t["aria-label"],"aria-labelledby":xe,"aria-describedby":[ye,he].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":n,"aria-expanded":t["aria-expanded"]};E.selectionMode!=="none"&&!M&&(W["aria-checked"]=ve),u&&(W["aria-posinset"]=P==null?void 0:P.index,W["aria-setsize"]=Vr(e.collection));let Pe=d.useRef(!1),vr=x=>{m==null||m(x),Pe.current=x},K=d.useRef(null),mr=x=>{x.pointerType!=="keyboard"&&(K.current={pointerType:x.pointerType}),x.pointerType==="mouse"&&(Pe.current||x.target.click()),$==null||$(x)},xr=x=>{var N,ae;h==null||h(x),gr(),da(x,pr,P.props.href,P==null?void 0:P.props.routerOptions);let oe=((N=K.current)===null||N===void 0?void 0:N.pointerType)==="keyboard"?((ae=K.current)===null||ae===void 0?void 0:ae.key)==="Enter"||E.selectionMode==="none"||E.isLink(a):E.selectionMode!=="multiple"||E.isLink(a);var ne;oe=(ne=s??l)!==null&&ne!==void 0?ne:oe,me&&!M&&oe&&me(),K.current=null},{itemProps:R,isFocused:Ee}=Xr({id:o,selectionManager:E,key:a,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:w.shouldUseVirtualFocus}),{pressProps:yr,isPressed:hr}=ea({onPressStart:c,onPress:p,onPressUp:mr,onPressChange:vr,onPressEnd:f,isDisabled:L}),{hoverProps:Pr}=je({isDisabled:L,onHoverStart(x){!ke()&&!(F&&n)&&(E.setFocused(!0),E.setFocusedKey(a)),i==null||i(x)},onHoverChange:g,onHoverEnd:v}),{keyboardProps:Er}=sa({onKeyDown:x=>{if(x.repeat){x.continuePropagation();return}switch(x.key){case" ":K.current={pointerType:"keyboard",key:" "},x.target.click();break;case"Enter":K.current={pointerType:"keyboard",key:"Enter"},x.target.tagName!=="A"&&x.target.click();break;default:M||x.continuePropagation(),C==null||C(x);break}},onKeyUp:y}),{focusableProps:Cr}=ia({onBlur:ee,onFocus:k,onFocusChange:Y},r),Ce=B(P==null?void 0:P.props);delete Ce.id;let Dr=ua(P==null?void 0:P.props);return{menuItemProps:{...W,...A(Ce,Dr,M?{onFocus:R.onFocus,"data-collection":R["data-collection"],"data-key":R["data-key"]}:R,yr,Pr,Er,Cr,w.shouldUseVirtualFocus||M?{onMouseDown:x=>x.preventDefault()}:void 0,L?void 0:{onClick:xr}),tabIndex:R.tabIndex!=null&&F&&!w.shouldUseVirtualFocus?-1:R.tabIndex},labelProps:{id:xe},descriptionProps:{id:ye},keyboardShortcutProps:{id:he},isFocused:Ee,isFocusVisible:Ee&&E.isFocused&&ke()&&!F,isSelected:ve,isPressed:hr,isDisabled:L}}function Oa(t){let{heading:e,"aria-label":r}=t,o=Q();return{itemProps:{role:"presentation"},headingProps:e?{id:o,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":e?o:void 0}}}function Ta(t,e){let{role:r="dialog"}=t,o=Z();o=t["aria-label"]?void 0:o;let a=d.useRef(!1);return d.useEffect(()=>{if(e.current&&!z(e.current,document.activeElement)){fe(e.current);let l=setTimeout(()=>{(document.activeElement===e.current||document.activeElement===document.body)&&(a.current=!0,e.current&&(e.current.blur(),fe(e.current)),a.current=!1)},500);return()=>{clearTimeout(l)}}},[e]),Ba(),{dialogProps:{...B(t,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||o,onBlur:l=>{a.current&&l.stopPropagation()}},titleProps:{id:o}}}function be(t){let e=Le(t),[r,o]=d.useState(null),[a,l]=d.useState([]),s=()=>{l([]),e.close()};return{focusStrategy:r,...e,open(c=null){o(c),e.open()},toggle(c=null){o(c),e.toggle()},close(){s()},expandedKeysStack:a,openSubmenu:(c,$)=>{l(p=>$>p.length?p:[...p.slice(0,$),c])},closeSubmenu:(c,$)=>{l(p=>p[$]===c?p.slice(0,$):p)}}}class Ia{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let r=this.keyMap.get(e);var o;return r&&(o=r.prevKey)!==null&&o!==void 0?o:null}getKeyAfter(e){let r=this.keyMap.get(e);var o;return r&&(o=r.nextKey)!==null&&o!==void 0?o:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var r;return(r=this.keyMap.get(e))!==null&&r!==void 0?r:null}at(e){const r=[...this.getKeys()];return this.getItem(r[e])}constructor(e,{expandedKeys:r}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,r=r||new Set;let o=u=>{if(this.keyMap.set(u.key,u),u.childNodes&&(u.type==="section"||r.has(u.key)))for(let n of u.childNodes)o(n)};for(let u of e)o(u);let a=null,l=0;for(let[u,n]of this.keyMap)a?(a.nextKey=u,n.prevKey=a.key):(this.firstKey=u,n.prevKey=void 0),n.type==="item"&&(n.index=l++),a=n,a.nextKey=void 0;var s;this.lastKey=(s=a==null?void 0:a.key)!==null&&s!==void 0?s:null}}function La(t){let{onExpandedChange:e}=t,[r,o]=ca(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),a=Ve(t),l=d.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),s=Yr(t,d.useCallback(n=>new Ia(n,{expandedKeys:r}),[r]),null);return d.useEffect(()=>{a.focusedKey!=null&&!s.getItem(a.focusedKey)&&a.setFocusedKey(null)},[s,a.focusedKey]),{collection:s,expandedKeys:r,disabledKeys:l,toggleKey:n=>{o(Na(r,n))},setExpandedKeys:o,selectionManager:new Ue(s,a)}}function Na(t,e){let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r}const pe=d.createContext(null),Re=d.createContext(null),po=d.forwardRef(function(e,r){[e,r]=U(e,r,pe);let o=d.useContext(X),a=Le(e),l=e.isOpen!=null||e.defaultOpen!=null||!o?a:o,s=$a(r,l.isOpen)||e.isExiting||!1,u=pa(),{direction:n}=ga();if(u){let c=e.children;return typeof c=="function"&&(c=c({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),b.createElement(b.Fragment,null,c)}return l&&!l.isOpen&&!s?null:b.createElement(Ha,{...e,triggerRef:e.triggerRef,state:l,popoverRef:r,isExiting:s,dir:n})});function Ha({state:t,isExiting:e,UNSTABLE_portalContainer:r,clearContexts:o,...a}){let l=d.useRef(null),s=d.useRef(null),u=d.useContext(Re),n=u&&a.trigger==="SubmenuTrigger";var c;let{popoverProps:$,underlayProps:p,arrowProps:m,placement:f,triggerAnchorPoint:h}=Aa({...a,offset:(c=a.offset)!==null&&c!==void 0?c:8,arrowRef:l,groupRef:n?u:s},t),i=a.popoverRef,g=ba(i,!!f)||a.isEntering||!1,v=j({...a,defaultClassName:"react-aria-Popover",values:{trigger:a.trigger||null,placement:f,isEntering:g,isExiting:e}}),C=!a.isNonModal||a.trigger==="SubmenuTrigger",[y,k]=d.useState(!1);$e(()=>{i.current&&k(C&&!i.current.querySelector("[role=dialog]"))},[i,C]),d.useEffect(()=>{y&&a.trigger!=="SubmenuTrigger"&&i.current&&!z(i.current,document.activeElement)&&fe(i.current)},[y,i,a.trigger]);let Y=d.useMemo(()=>{let F=v.children;if(o)for(let I of o)F=b.createElement(I.Provider,{value:null},F);return F},[v.children,o]),ee={...$.style,"--trigger-anchor-point":h?`${h.x}px ${h.y}px`:void 0,...v.style},E=b.createElement(O.div,{...A(B(a,{global:!0}),$),...v,role:y?"dialog":void 0,tabIndex:y?-1:void 0,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"],ref:i,slot:a.slot||void 0,style:ee,dir:a.dir,"data-trigger":a.trigger,"data-placement":f,"data-entering":g||void 0,"data-exiting":e||void 0},!a.isNonModal&&b.createElement(we,{onDismiss:t.close}),b.createElement(Rr.Provider,{value:{...m,placement:f,ref:l}},Y),b.createElement(we,{onDismiss:t.close}));if(!n)return b.createElement(Ke,{...a,shouldContainFocus:y,isExiting:e,portalContainer:r},!a.isNonModal&&t.isOpen&&b.createElement("div",{"data-testid":"underlay",...p,style:{position:"fixed",inset:0}}),b.createElement("div",{ref:s,style:{display:"contents"}},b.createElement(Re.Provider,{value:s},E)));var M;return b.createElement(Ke,{...a,shouldContainFocus:y,isExiting:e,portalContainer:(M=r??(u==null?void 0:u.current))!==null&&M!==void 0?M:void 0},E)}const _a=d.createContext({}),$r=d.createContext(null),ge=d.createContext(null),J=d.createContext(null),q=d.createContext(null);function go(t){let e=be(t),r=d.useRef(null),{menuTriggerProps:o,menuProps:a}=wa({...t,type:"menu"},e,r),[l,s]=d.useState(null),u=d.useCallback(()=>{r.current&&s(r.current.offsetWidth+"px")},[r]);Ne({ref:r,onResize:u});let n=d.useRef(null);return b.createElement(T,{values:[[$r,{...a,ref:n}],[X,e],[J,e],[pe,{trigger:"MenuTrigger",triggerRef:r,scrollRef:n,placement:"bottom start",style:{"--trigger-width":l},"aria-labelledby":a["aria-labelledby"]}]]},b.createElement(Ge,{...o,ref:r,isPressed:e.isOpen},t.children))}const za=d.createContext(null);class Va extends _r{filter(e,r,o){let a=e.getItem(this.firstChildKey);if(a&&o(a.textValue,this)){let l=this.clone();return r.addDescendants(l,e),l}return null}}Va.type="submenutrigger";const vo=d.forwardRef(function(e,r){return[e,r]=U(e,r,$r),b.createElement(Or,{content:b.createElement(Tr,e)},o=>b.createElement(Ua,{props:e,collection:o,menuRef:r}))});function Ua({props:t,collection:e,menuRef:r}){[t,r]=U(t,r,De);let{filter:o,...a}=t,l=d.useMemo(()=>o?e.filter(o):e,[e,o]),s=La({...t,collection:l,children:void 0}),u=d.useContext(J),{isVirtualized:n,CollectionRoot:c}=d.useContext(He),{menuProps:$}=Ka({...t,isVirtualized:n,onClose:t.onClose||(u==null?void 0:u.close)},s,r),p=j({...t,children:void 0,defaultClassName:"react-aria-Menu",values:{isEmpty:s.collection.size===0}}),m=null;s.collection.size===0&&t.renderEmptyState&&(m=b.createElement("div",{role:"menuitem",style:{display:"contents"}},t.renderEmptyState()));let f=B(t,{global:!0});return b.createElement(ze,null,b.createElement(O.div,{...A(f,p,$),ref:r,slot:t.slot||void 0,"data-empty":s.collection.size===0||void 0,onScroll:t.onScroll},b.createElement(T,{values:[[ge,s],[Ur,{elementType:"div"}],[Nr,{name:"MenuSection",render:Wa}],[za,{parentMenuRef:r,shouldUseVirtualFocus:a==null?void 0:a.shouldUseVirtualFocus}],[V,{shouldCloseOnSelect:t.shouldCloseOnSelect}],[De,null],[Ar,null],[q,s.selectionManager],[J,u??be({})]]},b.createElement(Zr,null,b.createElement(c,{collection:s.collection,persistedKeys:Hr(s.selectionManager.focusedKey),scrollRef:r}))),m))}class ja extends Ue{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,r){return this.parent.setFocusedKey(e,r)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,r){super(e.collection,r),this.parent=e}}function Wa(t,e,r,o="react-aria-MenuSection"){var a,l,s;let u=d.useContext(ge),{CollectionBranch:n}=d.useContext(He),[c,$]=kr();var p;let{headingProps:m,groupProps:f}=Oa({heading:$,"aria-label":(p=r.props["aria-label"])!==null&&p!==void 0?p:void 0}),h=j({...t,id:void 0,children:void 0,defaultClassName:o,className:(a=r.props)===null||a===void 0?void 0:a.className,style:(l=r.props)===null||l===void 0?void 0:l.style,values:void 0}),i=d.useContext(q),g=Ve(t),v=t.selectionMode!=null?new ja(i,g):i,C=(s=Ie(V))===null||s===void 0?void 0:s.shouldCloseOnSelect,y=B(t,{global:!0});delete y.id;var k;return b.createElement(O.section,{...A(y,h,f),ref:e},b.createElement(T,{values:[[jr,{...m,ref:c}],[q,v],[V,{shouldCloseOnSelect:(k=t.shouldCloseOnSelect)!==null&&k!==void 0?k:C}]]},b.createElement(n,{collection:u.collection,parent:r})))}const V=d.createContext(null),mo=Ir(Lr,function(e,r,o){var a;[e,r]=U(e,r,V);let l=(a=Ie(V))===null||a===void 0?void 0:a.id,s=d.useContext(ge),u=Oe(r),n=d.useContext(q),{menuItemProps:c,labelProps:$,descriptionProps:p,keyboardShortcutProps:m,...f}=Ra({...e,id:l,key:o.key,selectionManager:n},s,u),{hoverProps:h,isHovered:i}=je({isDisabled:f.isDisabled}),g=j({...e,id:void 0,children:o.rendered,defaultClassName:"react-aria-MenuItem",values:{...f,isHovered:i,isFocusVisible:f.isFocusVisible,selectionMode:n.selectionMode,selectionBehavior:n.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),v=e.href?O.a:O.div,C=B(e,{global:!0});return delete C.id,delete C.onClick,b.createElement(v,{...A(C,g,c,h),ref:u,"data-disabled":f.isDisabled||void 0,"data-hovered":i||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":f.isFocusVisible||void 0,"data-pressed":f.isPressed||void 0,"data-selected":f.isSelected||void 0,"data-selection-mode":n.selectionMode==="none"?void 0:n.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},b.createElement(T,{values:[[Jr,{slots:{[de]:$,label:$,description:p}}],[_a,m],[Wr,{isSelected:f.isSelected}]]},g.children))}),br=d.createContext(null),X=d.createContext(null);function xo(t){let e=be(t),r=d.useRef(null),{triggerProps:o,overlayProps:a}=Ze({type:"dialog"},e,r),[l,s]=d.useState(null),u=d.useCallback(()=>{r.current&&s(r.current.offsetWidth+"px")},[r]);return Ne({ref:r,onResize:u}),o.id=Q(),a["aria-labelledby"]=o.id,b.createElement(T,{values:[[X,e],[J,e],[br,a],[pe,{trigger:"DialogTrigger",triggerRef:r,"aria-labelledby":a["aria-labelledby"],style:{"--trigger-width":l}}]]},b.createElement(Ge,{...o,ref:r,isPressed:e.isOpen},t.children))}const yo=d.forwardRef(function(e,r){let o=e["aria-labelledby"];[e,r]=U(e,r,br);let{dialogProps:a,titleProps:l}=Ta({...e,"aria-labelledby":o},r),s=d.useContext(X);!a["aria-label"]&&!a["aria-labelledby"]&&e["aria-labelledby"]&&(a["aria-labelledby"]=e["aria-labelledby"]);let u=j({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(s==null?void 0:s.close)||(()=>{})}}),n=B(e,{global:!0});return b.createElement(O.section,{...A(n,u,a),render:e.render,ref:r,slot:e.slot||void 0},b.createElement(T,{values:[[Br,{slots:{[de]:{},title:{...l,level:2}}}],[Mr,{slots:{[de]:{},close:{onPress:()=>s==null?void 0:s.close()}}}]]},u.children))});export{go as $,po as a,vo as b,mo as c,ha as d,Pa as e,Ba as f,Sa as g,X as h,we as i,Ke as j,xo as k,yo as l,wa as m,pe as n};
