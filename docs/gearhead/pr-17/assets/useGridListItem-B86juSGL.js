import{b as ze,a as Se,$ as P,g as Te,o as we}from"./utils-LaqegW2K.js";import{i as Me,e as Ke,j as E}from"./SelectionManager-DSMsdBE7.js";import{N as je,O as Ne,m as h,t as C,y as Ve}from"./useFocusRing-ubySK4Mk.js";import{$ as L}from"./useLocalizedStringFormatter-CFq54QRB.js";import{r as y}from"./index-Dq4ZvVuH.js";import{b as Re}from"./Button-kWM7j8ju.js";import{$ as Oe}from"./useUpdateEffect-v2fVp2T7.js";import{$ as Le}from"./useHasTabbableChild-CiUg8Wal.js";import{d as Ue,c as f}from"./Separator-3hPFwPTm.js";import{$ as j}from"./SharedElementTransition-BV-eLIt9.js";import{$ as We}from"./context-DWzCBS5d.js";const z=new WeakMap;function N(e,u){var l;let{id:o}=(l=z.get(e))!==null&&l!==void 0?l:{};if(!o)throw new Error("Unknown list");return`${o}-${Ge(u)}`}function Ge(e){return typeof e=="string"?e.replace(/\s*/g,""):""+e}var U={};U={deselectedItem:e=>`${e.item} غير المحدد`,longPressToSelect:"اضغط مطولًا للدخول إلى وضع التحديد.",select:"تحديد",selectedAll:"جميع العناصر المحددة.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"لم يتم تحديد عناصر",one:()=>`${u.number(e.count)} عنصر محدد`,other:()=>`${u.number(e.count)} عنصر محدد`})}.`,selectedItem:e=>`${e.item} المحدد`};var W={};W={deselectedItem:e=>`${e.item} не е избран.`,longPressToSelect:"Натиснете и задръжте за да влезете в избирателен режим.",select:"Изберете",selectedAll:"Всички елементи са избрани.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Няма избрани елементи",one:()=>`${u.number(e.count)} избран елемент`,other:()=>`${u.number(e.count)} избрани елементи`})}.`,selectedItem:e=>`${e.item} избран.`};var G={};G={deselectedItem:e=>`Položka ${e.item} není vybrána.`,longPressToSelect:"Dlouhým stisknutím přejdete do režimu výběru.",select:"Vybrat",selectedAll:"Vybrány všechny položky.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Nevybrány žádné položky",one:()=>`Vybrána ${u.number(e.count)} položka`,other:()=>`Vybráno ${u.number(e.count)} položek`})}.`,selectedItem:e=>`Vybrána položka ${e.item}.`};var Z={};Z={deselectedItem:e=>`${e.item} ikke valgt.`,longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"Vælg",selectedAll:"Alle elementer valgt.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Ingen elementer valgt",one:()=>`${u.number(e.count)} element valgt`,other:()=>`${u.number(e.count)} elementer valgt`})}.`,selectedItem:e=>`${e.item} valgt.`};var _={};_={deselectedItem:e=>`${e.item} nicht ausgewählt.`,longPressToSelect:"Gedrückt halten, um Auswahlmodus zu öffnen.",select:"Auswählen",selectedAll:"Alle Elemente ausgewählt.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Keine Elemente ausgewählt",one:()=>`${u.number(e.count)} Element ausgewählt`,other:()=>`${u.number(e.count)} Elemente ausgewählt`})}.`,selectedItem:e=>`${e.item} ausgewählt.`};var H={};H={deselectedItem:e=>`Δεν επιλέχθηκε το στοιχείο ${e.item}.`,longPressToSelect:"Πατήστε παρατεταμένα για να μπείτε σε λειτουργία επιλογής.",select:"Επιλογή",selectedAll:"Επιλέχθηκαν όλα τα στοιχεία.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Δεν επιλέχθηκαν στοιχεία",one:()=>`Επιλέχθηκε ${u.number(e.count)} στοιχείο`,other:()=>`Επιλέχθηκαν ${u.number(e.count)} στοιχεία`})}.`,selectedItem:e=>`Επιλέχθηκε το στοιχείο ${e.item}.`};var q={};q={deselectedItem:e=>`${e.item} not selected.`,select:"Select",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"No items selected",one:()=>`${u.number(e.count)} item selected`,other:()=>`${u.number(e.count)} items selected`})}.`,selectedAll:"All items selected.",selectedItem:e=>`${e.item} selected.`,longPressToSelect:"Long press to enter selection mode."};var J={};J={deselectedItem:e=>`${e.item} no seleccionado.`,longPressToSelect:"Mantenga pulsado para abrir el modo de selección.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Ningún elemento seleccionado",one:()=>`${u.number(e.count)} elemento seleccionado`,other:()=>`${u.number(e.count)} elementos seleccionados`})}.`,selectedItem:e=>`${e.item} seleccionado.`};var X={};X={deselectedItem:e=>`${e.item} pole valitud.`,longPressToSelect:"Valikurežiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"Kõik üksused valitud.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Üksusi pole valitud",one:()=>`${u.number(e.count)} üksus valitud`,other:()=>`${u.number(e.count)} üksust valitud`})}.`,selectedItem:e=>`${e.item} valitud.`};var Y={};Y={deselectedItem:e=>`Kohdetta ${e.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitkään.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Ei yhtään kohdetta valittu",one:()=>`${u.number(e.count)} kohde valittu`,other:()=>`${u.number(e.count)} kohdetta valittu`})}.`,selectedItem:e=>`${e.item} valittu.`};var Q={};Q={deselectedItem:e=>`${e.item} non sélectionné.`,longPressToSelect:"Appuyez de manière prolongée pour passer en mode de sélection.",select:"Sélectionner",selectedAll:"Tous les éléments sélectionnés.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Aucun élément sélectionné",one:()=>`${u.number(e.count)} élément sélectionné`,other:()=>`${u.number(e.count)} éléments sélectionnés`})}.`,selectedItem:e=>`${e.item} sélectionné.`};var ee={};ee={deselectedItem:e=>`${e.item} לא נבחר.`,longPressToSelect:"הקשה ארוכה לכניסה למצב בחירה.",select:"בחר",selectedAll:"כל הפריטים נבחרו.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"לא נבחרו פריטים",one:()=>`פריט ${u.number(e.count)} נבחר`,other:()=>`${u.number(e.count)} פריטים נבחרו`})}.`,selectedItem:e=>`${e.item} נבחר.`};var ue={};ue={deselectedItem:e=>`Stavka ${e.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u način odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${u.number(e.count)} stavka`,other:()=>`Odabrano je ${u.number(e.count)} stavki`})}.`,selectedItem:e=>`Stavka ${e.item} je odabrana.`};var te={};te={deselectedItem:e=>`${e.item} nincs kijelölve.`,longPressToSelect:"Nyomja hosszan a kijelöléshez.",select:"Kijelölés",selectedAll:"Az összes elem kijelölve.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Egy elem sincs kijelölve",one:()=>`${u.number(e.count)} elem kijelölve`,other:()=>`${u.number(e.count)} elem kijelölve`})}.`,selectedItem:e=>`${e.item} kijelölve.`};var le={};le={deselectedItem:e=>`${e.item} non selezionato.`,longPressToSelect:"Premi a lungo per passare alla modalità di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Nessun elemento selezionato",one:()=>`${u.number(e.count)} elemento selezionato`,other:()=>`${u.number(e.count)} elementi selezionati`})}.`,selectedItem:e=>`${e.item} selezionato.`};var ne={};ne={deselectedItem:e=>`${e.item} が選択されていません。`,longPressToSelect:"長押しして選択モードを開きます。",select:"選択",selectedAll:"すべての項目を選択しました。",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"項目が選択されていません",one:()=>`${u.number(e.count)} 項目を選択しました`,other:()=>`${u.number(e.count)} 項目を選択しました`})}。`,selectedItem:e=>`${e.item} を選択しました。`};var oe={};oe={deselectedItem:e=>`${e.item}이(가) 선택되지 않았습니다.`,longPressToSelect:"선택 모드로 들어가려면 길게 누르십시오.",select:"선택",selectedAll:"모든 항목이 선택되었습니다.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"선택된 항목이 없습니다",one:()=>`${u.number(e.count)}개 항목이 선택되었습니다`,other:()=>`${u.number(e.count)}개 항목이 선택되었습니다`})}.`,selectedItem:e=>`${e.item}이(가) 선택되었습니다.`};var ie={};ie={deselectedItem:e=>`${e.item} nepasirinkta.`,longPressToSelect:"Norėdami įjungti pasirinkimo režimą, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Nepasirinktas nė vienas elementas",one:()=>`Pasirinktas ${u.number(e.count)} elementas`,other:()=>`Pasirinkta elementų: ${u.number(e.count)}`})}.`,selectedItem:e=>`Pasirinkta: ${e.item}.`};var ce={};ce={deselectedItem:e=>`Vienums ${e.item} nav atlasīts.`,longPressToSelect:"Ilgi turiet nospiestu. lai ieslēgtu atlases režīmu.",select:"Atlasīt",selectedAll:"Atlasīti visi vienumi.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Nav atlasīts neviens vienums",one:()=>`Atlasīto vienumu skaits: ${u.number(e.count)}`,other:()=>`Atlasīto vienumu skaits: ${u.number(e.count)}`})}.`,selectedItem:e=>`Atlasīts vienums ${e.item}.`};var se={};se={deselectedItem:e=>`${e.item} er ikke valgt.`,longPressToSelect:"Bruk et langt trykk for å gå inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Ingen elementer er valgt",one:()=>`${u.number(e.count)} element er valgt`,other:()=>`${u.number(e.count)} elementer er valgt`})}.`,selectedItem:e=>`${e.item} er valgt.`};var ae={};ae={deselectedItem:e=>`${e.item} niet geselecteerd.`,longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Geen items geselecteerd",one:()=>`${u.number(e.count)} item geselecteerd`,other:()=>`${u.number(e.count)} items geselecteerd`})}.`,selectedItem:e=>`${e.item} geselecteerd.`};var re={};re={deselectedItem:e=>`Nie zaznaczono ${e.item}.`,longPressToSelect:"Naciśnij i przytrzymaj, aby wejść do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Nie zaznaczono żadnych elementów",one:()=>`${u.number(e.count)} zaznaczony element`,other:()=>`${u.number(e.count)} zaznaczonych elementów`})}.`,selectedItem:e=>`Zaznaczono ${e.item}.`};var de={};de={deselectedItem:e=>`${e.item} não selecionado.`,longPressToSelect:"Mantenha pressionado para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>`${u.number(e.count)} item selecionado`,other:()=>`${u.number(e.count)} itens selecionados`})}.`,selectedItem:e=>`${e.item} selecionado.`};var $e={};$e={deselectedItem:e=>`${e.item} não selecionado.`,longPressToSelect:"Prima continuamente para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>`${u.number(e.count)} item selecionado`,other:()=>`${u.number(e.count)} itens selecionados`})}.`,selectedItem:e=>`${e.item} selecionado.`};var me={};me={deselectedItem:e=>`${e.item} neselectat.`,longPressToSelect:"Apăsați lung pentru a intra în modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Niciun element selectat",one:()=>`${u.number(e.count)} element selectat`,other:()=>`${u.number(e.count)} elemente selectate`})}.`,selectedItem:e=>`${e.item} selectat.`};var be={};be={deselectedItem:e=>`${e.item} не выбрано.`,longPressToSelect:"Нажмите и удерживайте для входа в режим выбора.",select:"Выбрать",selectedAll:"Выбраны все элементы.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Нет выбранных элементов",one:()=>`${u.number(e.count)} элемент выбран`,other:()=>`${u.number(e.count)} элементов выбрано`})}.`,selectedItem:e=>`${e.item} выбрано.`};var pe={};pe={deselectedItem:e=>`Nevybraté položky: ${e.item}.`,longPressToSelect:"Dlhším stlačením prejdite do režimu výberu.",select:"Vybrať",selectedAll:"Všetky vybraté položky.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Žiadne vybraté položky",one:()=>`${u.number(e.count)} vybratá položka`,other:()=>`Počet vybratých položiek:${u.number(e.count)}`})}.`,selectedItem:e=>`Vybraté položky: ${e.item}.`};var Be={};Be={deselectedItem:e=>`Element ${e.item} ni izbran.`,longPressToSelect:"Za izbirni način pritisnite in dlje časa držite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Noben element ni izbran",one:()=>`${u.number(e.count)} element je izbran`,other:()=>`${u.number(e.count)} elementov je izbranih`})}.`,selectedItem:e=>`Element ${e.item} je izbran.`};var De={};De={deselectedItem:e=>`${e.item} nije izabrano.`,longPressToSelect:"Dugo pritisnite za ulazak u režim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${u.number(e.count)} stavka`,other:()=>`Izabrano je ${u.number(e.count)} stavki`})}.`,selectedItem:e=>`${e.item} je izabrano.`};var xe={};xe={deselectedItem:e=>`${e.item} ej markerat.`,longPressToSelect:"Tryck länge när du vill öppna väljarläge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Inga markerade objekt",one:()=>`${u.number(e.count)} markerat objekt`,other:()=>`${u.number(e.count)} markerade objekt`})}.`,selectedItem:e=>`${e.item} markerat.`};var ve={};ve={deselectedItem:e=>`${e.item} seçilmedi.`,longPressToSelect:"Seçim moduna girmek için uzun basın.",select:"Seç",selectedAll:"Tüm ögeler seçildi.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Hiçbir öge seçilmedi",one:()=>`${u.number(e.count)} öge seçildi`,other:()=>`${u.number(e.count)} öge seçildi`})}.`,selectedItem:e=>`${e.item} seçildi.`};var Ce={};Ce={deselectedItem:e=>`${e.item} не вибрано.`,longPressToSelect:"Виконайте довге натиснення, щоб перейти в режим вибору.",select:"Вибрати",selectedAll:"Усі елементи вибрано.",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"Жодних елементів не вибрано",one:()=>`${u.number(e.count)} елемент вибрано`,other:()=>`Вибрано елементів: ${u.number(e.count)}`})}.`,selectedItem:e=>`${e.item} вибрано.`};var Ee={};Ee={deselectedItem:e=>`未选择 ${e.item}。`,longPressToSelect:"长按以进入选择模式。",select:"选择",selectedAll:"已选择所有项目。",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"未选择项目",one:()=>`已选择 ${u.number(e.count)} 个项目`,other:()=>`已选择 ${u.number(e.count)} 个项目`})}。`,selectedItem:e=>`已选择 ${e.item}。`};var fe={};fe={deselectedItem:e=>`未選取「${e.item}」。`,longPressToSelect:"長按以進入選擇模式。",select:"選取",selectedAll:"已選取所有項目。",selectedCount:(e,u)=>`${u.plural(e.count,{"=0":"未選取任何項目",one:()=>`已選取 ${u.number(e.count)} 個項目`,other:()=>`已選取 ${u.number(e.count)} 個項目`})}。`,selectedItem:e=>`已選取「${e.item}」。`};var S={};S={"ar-AE":U,"bg-BG":W,"cs-CZ":G,"da-DK":Z,"de-DE":_,"el-GR":H,"en-US":q,"es-ES":J,"et-EE":X,"fi-FI":Y,"fr-FR":Q,"he-IL":ee,"hr-HR":ue,"hu-HU":te,"it-IT":le,"ja-JP":ne,"ko-KR":oe,"lt-LT":ie,"lv-LV":ce,"nb-NO":se,"nl-NL":ae,"pl-PL":re,"pt-BR":de,"pt-PT":$e,"ro-RO":me,"ru-RU":be,"sk-SK":pe,"sl-SI":Be,"sr-SP":De,"sv-SE":xe,"tr-TR":ve,"uk-UA":Ce,"zh-CN":Ee,"zh-TW":fe};function Ze(e){return e&&e.__esModule?e.default:e}function _e(e,u){let{getRowText:l=c=>{var s,D,p,$;return($=(s=(D=u.collection).getTextValue)===null||s===void 0?void 0:s.call(D,c))!==null&&$!==void 0?$:(p=u.collection.getItem(c))===null||p===void 0?void 0:p.textValue}}=e,o=L(Ze(S),"@react-aria/grid"),i=u.selectionManager.rawSelection,t=y.useRef(i),B=y.useCallback(()=>{var c;if(!u.selectionManager.isFocused||i===t.current){t.current=i;return}let s=V(i,t.current),D=V(t.current,i),p=u.selectionManager.selectionBehavior==="replace",$=[];if(u.selectionManager.selectedKeys.size===1&&p){let d=u.selectionManager.selectedKeys.keys().next().value;if(d!=null&&u.collection.getItem(d)){let m=l(d);m&&$.push(o.format("selectedItem",{item:m}))}}else if(s.size===1&&D.size===0){let d=s.keys().next().value;if(d!=null){let m=l(d);m&&$.push(o.format("selectedItem",{item:m}))}}else if(D.size===1&&s.size===0){let d=D.keys().next().value;if(d!=null&&u.collection.getItem(d)){let m=l(d);m&&$.push(o.format("deselectedItem",{item:m}))}}u.selectionManager.selectionMode==="multiple"&&($.length===0||i==="all"||i.size>1||t.current==="all"||((c=t.current)===null||c===void 0?void 0:c.size)>1)&&$.push(i==="all"?o.format("selectedAll"):o.format("selectedCount",{count:i.size})),$.length>0&&Re($.join(" ")),t.current=i},[i,u.selectionManager.selectedKeys,u.selectionManager.isFocused,u.selectionManager.selectionBehavior,u.selectionManager.selectionMode,u.collection,l,o]);Oe(()=>{if(u.selectionManager.isFocused)B();else{let c=requestAnimationFrame(B);return()=>cancelAnimationFrame(c)}},[i,u.selectionManager.isFocused])}function V(e,u){let l=new Set;if(e==="all"||u==="all")return l;for(let o of e.keys())u.has(o)||l.add(o);return l}function He(e){return e&&e.__esModule?e.default:e}function qe(e){let u=L(He(S),"@react-aria/grid"),l=je(),o=(l==="pointer"||l==="virtual"||l==null)&&typeof window<"u"&&"ontouchstart"in window,i=y.useMemo(()=>{let B=e.selectionManager.selectionMode,c=e.selectionManager.selectionBehavior,s;return o&&(s=u.format("longPressToSelect")),c==="replace"&&B!=="none"&&e.hasItemActions?s:void 0},[e.selectionManager.selectionMode,e.selectionManager.selectionBehavior,e.hasItemActions,u,o]);return Me(i)}function cu(e,u,l){let{isVirtualized:o,keyboardDelegate:i,layoutDelegate:t,onAction:B,disallowTypeAhead:c,linkBehavior:s="action",keyboardNavigationBehavior:D="arrow",escapeKeyBehavior:p="clearSelection",shouldSelectOnPressUp:$}=e;!e["aria-label"]&&!e["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let{listProps:d}=Ue({selectionManager:u.selectionManager,collection:u.collection,disabledKeys:u.disabledKeys,ref:l,keyboardDelegate:i,layoutDelegate:t,isVirtualized:o,selectOnFocus:u.selectionManager.selectionBehavior==="replace",shouldFocusWrap:e.shouldFocusWrap,linkBehavior:s,disallowTypeAhead:c,autoFocus:e.autoFocus,escapeKeyBehavior:p}),m=ze(e.id);z.set(u,{id:m,onAction:B,linkBehavior:s,keyboardNavigationBehavior:D,shouldSelectOnPressUp:$});let g=qe({selectionManager:u.selectionManager,hasItemActions:!!B}),k=Le(l,{isDisabled:u.collection.size!==0}),x=Se(e,{labelable:!0}),A=P(x,{role:"grid",id:m,"aria-multiselectable":u.selectionManager.selectionMode==="multiple"?"true":void 0},u.collection.size===0?{tabIndex:k?-1:0}:d,g);return o&&(A["aria-rowcount"]=u.collection.size,A["aria-colcount"]=1),_e({},u),{gridProps:A}}const R={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function su(e,u,l){var o,i;let{node:t,isVirtualized:B}=e,{direction:c}=We(),{onAction:s,linkBehavior:D,keyboardNavigationBehavior:p,shouldSelectOnPressUp:$}=z.get(u),d=Te(),m=y.useRef(null),g=()=>{l.current!==null&&(m.current!=null&&t.key!==m.current||!h(l.current,document.activeElement))&&C(l.current)},k={},x=e.hasChildItems,A=u.selectionManager.isLink(t.key);if(t!=null&&"expandedKeys"in u){var I,T;let n=(I=(T=u.collection).getChildren)===null||I===void 0?void 0:I.call(T,t.key);x=x||[...n??[]].length>1,s==null&&!A&&u.selectionManager.selectionMode==="none"&&x&&(s=()=>u.toggleKey(t.key));let a=x?u.expandedKeys.has(t.key):void 0,b=1;if(t.level>0&&(t==null?void 0:t.parentKey)!=null){let r=u.collection.getItem(t.parentKey);if(r){var F,w;b=[...(F=(w=u.collection).getChildren)===null||F===void 0?void 0:F.call(w,r.key)].filter(Pe=>Pe.type==="item").length}}else b=[...u.collection].filter(r=>r.level===0&&r.type==="item").length;k={"aria-expanded":a,"aria-level":t.level+1,"aria-posinset":(t==null?void 0:t.index)+1,"aria-setsize":b}}let{itemProps:Ae,...M}=Ke({selectionManager:u.selectionManager,key:t.key,ref:l,isVirtualized:B,shouldSelectOnPressUp:e.shouldSelectOnPressUp||$,onAction:s||!((o=t.props)===null||o===void 0)&&o.onAction?we((i=t.props)===null||i===void 0?void 0:i.onAction,s?()=>s(t.key):void 0):void 0,focus:g,linkBehavior:D}),ke=n=>{if(!h(n.currentTarget,n.target)||!l.current||!document.activeElement)return;let a=j(l.current);if(a.currentNode=document.activeElement,"expandedKeys"in u&&document.activeElement===l.current){if(n.key===R.expand[c]&&u.selectionManager.focusedKey===t.key&&x&&!u.expandedKeys.has(t.key)){u.toggleKey(t.key),n.stopPropagation();return}else if(n.key===R.collapse[c]&&u.selectionManager.focusedKey===t.key&&x&&u.expandedKeys.has(t.key)){u.toggleKey(t.key),n.stopPropagation();return}}switch(n.key){case"ArrowLeft":if(p==="arrow"){let r=c==="rtl"?a.nextNode():a.previousNode();if(r)n.preventDefault(),n.stopPropagation(),C(r),E(r,{containingElement:f(l.current)});else if(n.preventDefault(),n.stopPropagation(),c==="rtl")C(l.current),E(l.current,{containingElement:f(l.current)});else{a.currentNode=l.current;let v=O(a);v&&(C(v),E(v,{containingElement:f(l.current)}))}}break;case"ArrowRight":if(p==="arrow"){let r=c==="rtl"?a.previousNode():a.nextNode();if(r)n.preventDefault(),n.stopPropagation(),C(r),E(r,{containingElement:f(l.current)});else if(n.preventDefault(),n.stopPropagation(),c==="ltr")C(l.current),E(l.current,{containingElement:f(l.current)});else{a.currentNode=l.current;let v=O(a);v&&(C(v),E(v,{containingElement:f(l.current)}))}}break;case"ArrowUp":case"ArrowDown":if(!n.altKey&&h(l.current,n.target)){var b;n.stopPropagation(),n.preventDefault(),(b=l.current.parentElement)===null||b===void 0||b.dispatchEvent(new KeyboardEvent(n.nativeEvent.type,n.nativeEvent))}break}},he=n=>{if(m.current=t.key,n.target!==l.current){Ve()||u.selectionManager.setFocusedKey(t.key);return}},ye=n=>{if(!(!h(n.currentTarget,n.target)||!l.current||!document.activeElement))switch(n.key){case"Tab":if(p==="tab"){let a=j(l.current,{tabbable:!0});a.currentNode=document.activeElement,(n.shiftKey?a.previousNode():a.nextNode())&&n.stopPropagation()}}},ge=Ne(t.props),Ie=M.hasAction?ge:{},K=P(Ae,Ie,{role:"row",onKeyDownCapture:ke,onKeyDown:ye,onFocus:he,"aria-label":t["aria-label"]||t.textValue||void 0,"aria-selected":u.selectionManager.canSelectItem(t.key)?u.selectionManager.isSelected(t.key):void 0,"aria-disabled":u.selectionManager.isDisabled(t.key)||void 0,"aria-labelledby":d&&(t["aria-label"]||t.textValue)?`${N(u,t.key)} ${d}`:void 0,id:N(u,t.key)});if(B){let{collection:n}=u,a=[...n];K["aria-rowindex"]=a.find(b=>b.type==="section")?[...n.getKeys()].filter(b=>{var r;return((r=n.getItem(b))===null||r===void 0?void 0:r.type)!=="section"}).findIndex(b=>b===t.key)+1:t.index+1}let Fe={role:"gridcell","aria-colindex":1};return{rowProps:{...P(K,k)},gridCellProps:Fe,descriptionProps:{id:d},...M}}function O(e){let u=null,l=null;do l=e.lastChild(),l&&(u=l);while(l);return u}export{S as $,N as a,su as b,cu as c};
