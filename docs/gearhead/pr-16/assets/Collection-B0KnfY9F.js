import{a as z}from"./Hidden-o7BpdpsO.js";import{r as U}from"./index-BodQkoVg.js";import{L as I}from"./useFocusRing-ubySK4Mk.js";import{r as h,a as L,R as p}from"./index-Dq4ZvVuH.js";import{l as R}from"./utils-LaqegW2K.js";class C{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new this.constructor(this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e.render=this.render,e.colSpan=this.colSpan,e.colIndex=this.colIndex,e}filter(e,t,l){let i=this.clone();return t.addDescendants(i,e),i}constructor(e){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.colSpan=null,this.colIndex=null,this.type=this.constructor.type,this.key=e}}class V extends C{filter(e,t,l){let[i,r]=_(e,t,this.firstChildKey,l),s=this.clone();return s.firstChildKey=i,s.lastChildKey=r,s}}class B extends C{}B.type="header";class F extends C{}F.type="loader";class W extends V{filter(e,t,l){if(l(this.textValue,this)){let i=this.clone();return t.addDescendants(i,e),i}return null}}W.type="item";class O extends V{filter(e,t,l){let i=super.filter(e,t,l);if(i&&i.lastChildKey!==null){let r=e.getItem(i.lastChildKey);if(r&&r.type!=="header")return i}return null}}O.type="section";class T{get size(){return this.itemCount}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=e.nextKey!=null?this.keyMap.get(e.nextKey):void 0}getChildren(e){let t=this.keyMap;return{*[Symbol.iterator](){let l=t.get(e),i=(l==null?void 0:l.firstChildKey)!=null?t.get(l.firstChildKey):null;for(;i;)yield i,i=i.nextKey!=null?t.get(i.nextKey):void 0}}}getKeyBefore(e){let t=this.keyMap.get(e);if(!t)return null;if(t.prevKey!=null){for(t=this.keyMap.get(t.prevKey);t&&t.type!=="item"&&t.lastChildKey!=null;)t=this.keyMap.get(t.lastChildKey);var l;return(l=t==null?void 0:t.key)!==null&&l!==void 0?l:null}return t.parentKey}getKeyAfter(e){let t=this.keyMap.get(e);if(!t)return null;if(t.type!=="item"&&t.firstChildKey!=null)return t.firstChildKey;for(;t;){if(t.nextKey!=null)return t.nextKey;if(t.parentKey!=null)t=this.keyMap.get(t.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;(e==null?void 0:e.lastChildKey)!=null;)e=this.keyMap.get(e.lastChildKey);var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(){throw new Error("Not implemented")}clone(){let e=this.constructor,t=new e;return t.keyMap=new Map(this.keyMap),t.firstKey=this.firstKey,t.lastKey=this.lastKey,t.itemCount=this.itemCount,t}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");e.type==="item"&&this.keyMap.get(e.key)==null&&this.itemCount++,this.keyMap.set(e.key,e)}addDescendants(e,t){this.addNode(e);let l=t.getChildren(e.key);for(let i of l)this.addDescendants(i,t)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");let t=this.keyMap.get(e);t!=null&&t.type==="item"&&this.itemCount--,this.keyMap.delete(e)}commit(e,t,l=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=t,this.frozen=!l}filter(e){let t=new this.constructor,[l,i]=_(this,t,this.firstKey,e);return t==null||t.commit(l,i),t}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1,this.itemCount=0}}function _(n,e,t,l){if(t==null)return[null,null];let i=null,r=null,s=n.getItem(t);for(;s!=null;){let u=s.filter(n,e,l);u!=null&&(u.nextKey=null,r&&(u.prevKey=r.key,r.nextKey=u.key),i==null&&(i=u),e.addNode(u),r=u),s=s.nextKey?n.getItem(s.nextKey):null}if(r&&r.type==="separator"){let u=r.prevKey;e.removeNode(r.key),u?(r=e.getItem(u),r.nextKey=null):r=null}var o,d;return[(o=i==null?void 0:i.key)!==null&&o!==void 0?o:null,(d=r==null?void 0:r.key)!==null&&d!==void 0?d:null]}class P{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}invalidateChildIndices(e){(this._minInvalidChildIndex==null||!this._minInvalidChildIndex.isConnected||e.index<this._minInvalidChildIndex.index)&&(this._minInvalidChildIndex=e,this.ownerDocument.markDirty(this))}updateChildIndices(){let e=this._minInvalidChildIndex;for(;e;)e.index=e.previousSibling?e.previousSibling.index+1:0,e=e.nextSibling;this._minInvalidChildIndex=null}appendChild(e){e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),this.isConnected&&this.ownerDocument.queueUpdate()}insertBefore(e,t){if(t==null)return this.appendChild(e);e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=t,e.previousSibling=t.previousSibling,e.index=t.index-1,this.firstChild===t?this.firstChild=e:t.previousSibling&&(t.previousSibling.nextSibling=e),t.previousSibling=e,e.parentNode=t.parentNode,this.invalidateChildIndices(e),this.isConnected&&this.ownerDocument.queueUpdate()}removeChild(e){e.parentNode===this&&(this._minInvalidChildIndex===e&&(this._minInvalidChildIndex=null),e.nextSibling&&(this.invalidateChildIndices(e.nextSibling),e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.markDirty(e),this.isConnected&&this.ownerDocument.queueUpdate())}addEventListener(){}removeEventListener(){}get previousVisibleSibling(){let e=this.previousSibling;for(;e&&e.isHidden;)e=e.previousSibling;return e}get nextVisibleSibling(){let e=this.nextSibling;for(;e&&e.isHidden;)e=e.nextSibling;return e}get firstVisibleChild(){let e=this.firstChild;for(;e&&e.isHidden;)e=e.nextSibling;return e}get lastVisibleChild(){let e=this.lastChild;for(;e&&e.isHidden;)e=e.previousSibling;return e}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this._minInvalidChildIndex=null,this.ownerDocument=e}}class b extends P{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){var e;return this.parentNode instanceof b?this.parentNode.level+(((e=this.node)===null||e===void 0?void 0:e.type)==="item"?1:0):0}getMutableNode(){return this.node==null?null:(this.isMutated||(this.node=this.node.clone(),this.isMutated=!0),this.ownerDocument.markDirty(this),this.node)}updateNode(){var e,t,l,i,r,s,o,d;let u=this.nextVisibleSibling,a=this.getMutableNode();if(a!=null){a.index=this.index,a.level=this.level;var f;a.parentKey=this.parentNode instanceof b&&(f=(e=this.parentNode.node)===null||e===void 0?void 0:e.key)!==null&&f!==void 0?f:null;var c;a.prevKey=(c=(l=this.previousVisibleSibling)===null||l===void 0||(t=l.node)===null||t===void 0?void 0:t.key)!==null&&c!==void 0?c:null;var v;a.nextKey=(v=u==null||(i=u.node)===null||i===void 0?void 0:i.key)!==null&&v!==void 0?v:null,a.hasChildNodes=!!this.firstChild;var m;a.firstChildKey=(m=(s=this.firstVisibleChild)===null||s===void 0||(r=s.node)===null||r===void 0?void 0:r.key)!==null&&m!==void 0?m:null;var y;if(a.lastChildKey=(y=(d=this.lastVisibleChild)===null||d===void 0||(o=d.node)===null||o===void 0?void 0:o.key)!==null&&y!==void 0?y:null,(a.colSpan!=null||a.colIndex!=null)&&u){var x,g;let w=((x=a.colIndex)!==null&&x!==void 0?x:a.index)+((g=a.colSpan)!==null&&g!==void 0?g:1);if(u.node!=null&&w!==u.node.colIndex){let H=u.getMutableNode();H.colIndex=w}}}}setProps(e,t,l,i,r){let s,{value:o,textValue:d,id:u,...a}=e;if(this.node==null?(s=new l(u??`react-aria-${++this.ownerDocument.nodeId}`),this.node=s):s=this.getMutableNode(),a.ref=t,s.props=a,s.rendered=i,s.render=r,s.value=o,e["aria-label"]&&(s["aria-label"]=e["aria-label"]),s.textValue=d||(typeof a.children=="string"?a.children:"")||e["aria-label"]||"",u!=null&&u!==s.key)throw new Error("Cannot change the id of an item");a.colSpan!=null&&(s.colSpan=a.colSpan),this.isConnected&&this.ownerDocument.queueUpdate()}get style(){let e=this;return{get display(){return e.isHidden?"none":""},set display(t){let l=t==="none";if(e.isHidden!==l){var i,r;(((i=e.parentNode)===null||i===void 0?void 0:i.firstVisibleChild)===e||((r=e.parentNode)===null||r===void 0?void 0:r.lastVisibleChild)===e)&&e.ownerDocument.markDirty(e.parentNode);let s=e.previousVisibleSibling,o=e.nextVisibleSibling;s&&e.ownerDocument.markDirty(s),o&&e.ownerDocument.markDirty(o),e.isHidden=l,e.ownerDocument.markDirty(e)}}}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,t){super(t),this.nodeType=8,this.isMutated=!0,this._index=0,this.isHidden=!1,this.node=null}}class G extends P{get isConnected(){return!0}createElement(e){return new b(e,this)}getMutableCollection(){return this.nextCollection||(this.nextCollection=this.collection.clone()),this.nextCollection}markDirty(e){this.dirtyNodes.add(e)}addNode(e){if(e.isHidden||e.node==null)return;let t=this.getMutableCollection();if(!t.getItem(e.node.key))for(let l of e)this.addNode(l);t.addNode(e.node)}removeNode(e){for(let t of e)this.removeNode(t);e.node&&this.getMutableCollection().removeNode(e.node.key)}getCollection(){return this.inSubscription?this.collection.clone():(this.queuedRender=!1,this.updateCollection(),this.collection)}updateCollection(){for(let o of this.dirtyNodes)o instanceof b&&(!o.isConnected||o.isHidden)?this.removeNode(o):o.updateChildIndices();for(let o of this.dirtyNodes)o instanceof b?(o.isConnected&&!o.isHidden&&(o.updateNode(),this.addNode(o)),o.node&&this.dirtyNodes.delete(o),o.isMutated=!1):this.dirtyNodes.delete(o);if(this.nextCollection){var e,t,l,i,r,s;this.nextCollection.commit((r=(t=this.firstVisibleChild)===null||t===void 0||(e=t.node)===null||e===void 0?void 0:e.key)!==null&&r!==void 0?r:null,(s=(i=this.lastVisibleChild)===null||i===void 0||(l=i.node)===null||l===void 0?void 0:l.key)!==null&&s!==void 0?s:null,this.isSSR),this.isSSR||(this.collection=this.nextCollection,this.nextCollection=null)}}queueUpdate(){if(!(this.dirtyNodes.size===0||this.queuedRender)){this.queuedRender=!0,this.inSubscription=!0;for(let e of this.subscriptions)e();this.inSubscription=!1}}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.nextCollection=null,this.subscriptions=new Set,this.queuedRender=!1,this.inSubscription=!1,this.collection=e,this.nextCollection=e}}function q(n){let{children:e,items:t,idScope:l,addIdAndValue:i,dependencies:r=[]}=n,s=h.useMemo(()=>new WeakMap,r);return h.useMemo(()=>{if(t&&typeof e=="function"){let u=[];for(let a of t){let f=s.get(a);if(!f){f=e(a);var o,d;let c=(d=(o=f.props.id)!==null&&o!==void 0?o:a.key)!==null&&d!==void 0?d:a.id;if(c==null)throw new Error("Could not determine key for item");l!=null&&(c=l+":"+c),f=h.cloneElement(f,i?{key:c,id:c,value:a}:{key:c}),s.set(a,f)}u.push(f)}return u}else if(typeof e!="function")return e},[e,t,s,l,i])}var $={exports:{}},k={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E;function j(){if(E)return k;E=1;var n=L();function e(f,c){return f===c&&(f!==0||1/f===1/c)||f!==f&&c!==c}var t=typeof Object.is=="function"?Object.is:e,l=n.useState,i=n.useEffect,r=n.useLayoutEffect,s=n.useDebugValue;function o(f,c){var v=c(),m=l({inst:{value:v,getSnapshot:c}}),y=m[0].inst,x=m[1];return r(function(){y.value=v,y.getSnapshot=c,d(y)&&x({inst:y})},[f,v,c]),i(function(){return d(y)&&x({inst:y}),f(function(){d(y)&&x({inst:y})})},[f]),s(v),v}function d(f){var c=f.getSnapshot;f=f.value;try{var v=c();return!t(f,v)}catch{return!0}}function u(f,c){return c()}var a=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return k.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:a,k}var D;function J(){return D||(D=1,$.exports=j()),$.exports}var Q=J();const A=h.createContext(!1),S=h.createContext(null);function fe(n){if(h.useContext(S))return n.content;let{collection:t,document:l}=ee(n.createCollection);return p.createElement(p.Fragment,null,p.createElement(z,null,p.createElement(S.Provider,{value:l},n.content)),p.createElement(X,{render:n.children,collection:t}))}function X({collection:n,render:e}){return e(n)}function Y(n,e,t){let l=R(),i=h.useRef(l);i.current=l;let r=h.useCallback(()=>i.current?t():e(),[e,t]);return Q.useSyncExternalStore(n,r)}const Z=typeof p.useSyncExternalStore=="function"?p.useSyncExternalStore:Y;function ee(n){let[e]=h.useState(()=>new G((n==null?void 0:n())||new T)),t=h.useCallback(s=>e.subscribe(s),[e]),l=h.useCallback(()=>{let s=e.getCollection();return e.isSSR&&e.resetAfterSSR(),s},[e]),i=h.useCallback(()=>(e.isSSR=!0,e.getCollection()),[e]);return{collection:Z(t,l,i),document:e}}const K=h.createContext(null);function te(n){var e;return e=class extends C{},e.type=n,e}function ie(n,e,t,l,i,r){typeof n=="string"&&(n=te(n));let s=h.useCallback(d=>{d==null||d.setProps(e,t,n,l,r)},[e,t,l,r,n]),o=h.useContext(K);if(o){let d=o.ownerDocument.nodesByProps.get(e);return d||(d=o.ownerDocument.createElement(n.type),d.setProps(e,t,n,l,r),o.appendChild(d),o.ownerDocument.updateCollection(),o.ownerDocument.nodesByProps.set(e,d)),i?p.createElement(K.Provider,{value:d},i):null}return p.createElement(n.type,{ref:s},i)}function ce(n,e){let t=({node:i})=>e(i.props,i.props.ref,i),l=h.forwardRef((i,r)=>{let s=h.useContext(I);if(!h.useContext(A)){if(e.length>=3)throw new Error(e.name+" cannot be rendered outside a collection.");return e(i,r)}return ie(n,i,r,"children"in i?i.children:null,null,d=>p.createElement(I.Provider,{value:s},p.createElement(t,{node:d})))});return l.displayName=e.name,l}function ne(n){return q({...n,addIdAndValue:!0})}const N=h.createContext(null);function pe(n){let e=h.useContext(N),t=((e==null?void 0:e.dependencies)||[]).concat(n.dependencies);var l;let i=(l=n.idScope)!==null&&l!==void 0?l:e==null?void 0:e.idScope,r=ne({...n,idScope:i,dependencies:t});return h.useContext(S)&&(r=p.createElement(le,null,r)),e=h.useMemo(()=>({dependencies:t,idScope:i}),[i,...t]),p.createElement(N.Provider,{value:e},r)}function le({children:n}){let e=h.useContext(S),t=h.useMemo(()=>p.createElement(S.Provider,{value:null},p.createElement(A.Provider,{value:!0},n)),[n]);return R()?p.createElement(K.Provider,{value:e},t):U.createPortal(t,e)}const ye=h.createContext(null),re={CollectionRoot({collection:n,renderDropIndicator:e}){return M(n,null,e)},CollectionBranch({collection:n,parent:e,renderDropIndicator:t}){return M(n,e,t)}};function M(n,e,t){return q({items:e?n.getChildren(e.key):n,dependencies:[t],children(l){let i=l.render(l);return!t||l.type!=="item"?i:p.createElement(p.Fragment,null,t({type:"item",key:l.key,dropPosition:"before"}),i,se(n,l,t))}})}function se(n,e,t){let l=e.key,i=n.getKeyAfter(l),r=i!=null?n.getItem(i):null;for(;r!=null&&r.type!=="item";)i=n.getKeyAfter(r.key),r=i!=null?n.getItem(i):null;let s=e.nextKey!=null?n.getItem(e.nextKey):null;for(;s!=null&&s.type!=="item";)s=s.nextKey!=null?n.getItem(s.nextKey):null;let o=[];if(s==null){let d=e;for(;(d==null?void 0:d.type)==="item"&&(!r||d.parentKey!==r.parentKey&&r.level<d.level);){let u=t({type:"item",key:d.key,dropPosition:"after"});h.isValidElement(u)&&o.push(h.cloneElement(u,{key:`${d.key}-after`})),d=d.parentKey!=null?n.getItem(d.parentKey):null}}return o}const ve=h.createContext(re);function me(n){return h.useMemo(()=>n!=null?new Set([n]):null,[n])}export{fe as $,pe as a,ce as b,W as c,ve as d,re as e,F as f,ye as g,C as h,me as i};
