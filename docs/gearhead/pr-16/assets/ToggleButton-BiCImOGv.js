import{o as v,$ as x,d as h,c as C,a as F,e as y}from"./utils-LaqegW2K.js";import{$ as E}from"./SelectionIndicator-CoNWZYQ1.js";import{r,R as P}from"./index-Dq4ZvVuH.js";import{$ as H}from"./useToggleState-bM5DcLtG.js";import{$ as K}from"./useButton-BLdXFJ-e.js";import{j as R,i as V}from"./useFocusRing-ubySK4Mk.js";function S(s,e,t){const{isSelected:d}=e,{isPressed:i,buttonProps:l}=K({...s,onPress:v(e.toggle,s.onPress)},t);return{isPressed:i,isSelected:d,isDisabled:s.isDisabled||!1,buttonProps:x(l,{"aria-pressed":d})}}function k(s,e,t){let d={isSelected:e.selectedKeys.has(s.id),defaultSelected:!1,setSelected(o){e.setSelected(s.id,o)},toggle(){e.toggleKey(s.id)}},{isPressed:i,isSelected:l,isDisabled:c,buttonProps:a}=S({...s,id:void 0,isDisabled:s.isDisabled||e.isDisabled},d,t);return e.selectionMode==="single"&&(a.role="radio",a["aria-checked"]=d.isSelected,delete a["aria-pressed"]),{isPressed:i,isSelected:l,isDisabled:c,buttonProps:a}}const B=r.createContext(null),M=r.createContext({}),z=r.forwardRef(function(e,t){[e,t]=h(e,t,M);let d=r.useContext(B),i=H(d&&e.id!=null?{isSelected:d.selectedKeys.has(e.id),onChange(D){d.setSelected(e.id,D)}}:e),{buttonProps:l,isPressed:c,isSelected:a,isDisabled:o}=d&&e.id!=null?k({...e,id:e.id},d,t):S({...e,id:e.id!=null?String(e.id):void 0},i,t),{focusProps:g,isFocused:n,isFocusVisible:$}=R(e),{hoverProps:m,isHovered:b}=V({...e,isDisabled:o}),u=C({...e,id:void 0,values:{isHovered:b,isPressed:c,isFocused:n,isSelected:i.isSelected,isFocusVisible:$,isDisabled:o,state:i},defaultClassName:"react-aria-ToggleButton"}),f=F(e,{global:!0});return delete f.id,delete f.onClick,P.createElement(y.button,{...x(f,u,l,g,m),ref:t,slot:e.slot||void 0,"data-focused":n||void 0,"data-disabled":o||void 0,"data-pressed":c||void 0,"data-selected":a||void 0,"data-hovered":b||void 0,"data-focus-visible":$||void 0},P.createElement(E.Provider,{value:{isSelected:a}},u.children))});export{z as $};
