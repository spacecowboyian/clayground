import{$ as b}from"./context-DWzCBS5d.js";import{r as d}from"./index-Dq4ZvVuH.js";function w(i,t=-1/0,e=1/0){return Math.min(Math.max(i,t),e)}function f(i,t){let e=i,r=0,s=t.toString(),a=s.toLowerCase().indexOf("e-");if(a>0)r=Math.abs(Math.floor(Math.log10(Math.abs(t))))+a;else{let o=s.indexOf(".");o>=0&&(r=s.length-o)}if(r>0){let o=Math.pow(10,r);e=Math.round(e*o)/o}return e}function v(i,t,e,r){t=Number(t),e=Number(e);let s=(i-(isNaN(t)?0:t))%r,a=f(Math.abs(s)*2>=r?i+Math.sign(s)*(r-Math.abs(s)):i-s,r);return isNaN(t)?!isNaN(e)&&a>e&&(a=Math.floor(f(e/r,r))*r):a<t?a=t:!isNaN(e)&&a>e&&(a=t+Math.floor(f((e-t)/r,r))*r),a=f(a,r),a}let u=new Map,c=!1;try{c=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let l=!1;try{l=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const h={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class p{format(t){let e="";if(!c&&this.options.signDisplay!=null?e=m(this.numberFormatter,this.options.signDisplay,t):e=this.numberFormatter.format(t),this.options.style==="unit"&&!l){var r;let{unit:s,unitDisplay:a="short",locale:o}=this.resolvedOptions();if(!s)return e;let n=(r=h[s])===null||r===void 0?void 0:r[a];e+=n[o]||n.default}return e}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,e){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,e);if(e<t)throw new RangeError("End date must be >= start date");return`${this.format(t)} – ${this.format(e)}`}formatRangeToParts(t,e){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,e);if(e<t)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(t),s=this.numberFormatter.formatToParts(e);return[...r.map(a=>({...a,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(a=>({...a,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!c&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!l&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,e={}){this.numberFormatter=$(t,e),this.options=e}}function $(i,t={}){let{numberingSystem:e}=t;if(e&&i.includes("-nu-")&&(i.includes("-u-")||(i+="-u-"),i+=`-nu-${e}`),t.style==="unit"&&!l){var r;let{unit:o,unitDisplay:n="short"}=t;if(!o)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=h[o])===null||r===void 0)&&r[n]))throw new Error(`Unsupported unit ${o} with unitDisplay = ${n}`);t={...t,style:"decimal"}}let s=i+(t?Object.entries(t).sort((o,n)=>o[0]<n[0]?-1:1).join():"");if(u.has(s))return u.get(s);let a=new Intl.NumberFormat(i,t);return u.set(s,a),a}function m(i,t,e){if(t==="auto")return i.format(e);if(t==="never")return i.format(Math.abs(e));{let r=!1;if(t==="always"?r=e>0||Object.is(e,0):t==="exceptZero"&&(Object.is(e,-0)||Object.is(e,0)?e=Math.abs(e):r=e>0),r){let s=i.format(-e),a=i.format(e),o=s.replace(a,"").replace(/\u200e|\u061C/,"");return[...o].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),s.replace(a,"!!!").replace(o,"+").replace("!!!",a)}else return i.format(e)}}function M(i={}){let{locale:t}=b();return d.useMemo(()=>new p(t,i),[t,i])}export{w as $,M as a,v as b,p as c};
