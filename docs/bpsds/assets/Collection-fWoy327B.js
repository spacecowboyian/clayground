import{$ as K,a as A}from"./BaseCollection-CeOO3hBE.js";import{K as H,L as E,y as V}from"./Hidden-CJaOgpXL.js";import{r as U}from"./index-DML4njjH.js";import{r as a,R as v}from"./index-Dx_1l3Sb.js";import{r as L}from"./index-yBjzXJbu.js";class M{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}invalidateChildIndices(e){(this._minInvalidChildIndex==null||!this._minInvalidChildIndex.isConnected||e.index<this._minInvalidChildIndex.index)&&(this._minInvalidChildIndex=e,this.ownerDocument.markDirty(this))}updateChildIndices(){let e=this._minInvalidChildIndex;for(;e;)e.index=e.previousSibling?e.previousSibling.index+1:0,e=e.nextSibling;this._minInvalidChildIndex=null}appendChild(e){e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),this.isConnected&&this.ownerDocument.queueUpdate()}insertBefore(e,i){if(i==null)return this.appendChild(e);e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=i,e.previousSibling=i.previousSibling,e.index=i.index-1,this.firstChild===i?this.firstChild=e:i.previousSibling&&(i.previousSibling.nextSibling=e),i.previousSibling=e,e.parentNode=i.parentNode,this.invalidateChildIndices(e),this.isConnected&&this.ownerDocument.queueUpdate()}removeChild(e){e.parentNode===this&&(this._minInvalidChildIndex===e&&(this._minInvalidChildIndex=null),e.nextSibling&&(this.invalidateChildIndices(e.nextSibling),e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.markDirty(e),this.isConnected&&this.ownerDocument.queueUpdate())}addEventListener(){}removeEventListener(){}get previousVisibleSibling(){let e=this.previousSibling;for(;e&&e.isHidden;)e=e.previousSibling;return e}get nextVisibleSibling(){let e=this.nextSibling;for(;e&&e.isHidden;)e=e.nextSibling;return e}get firstVisibleChild(){let e=this.firstChild;for(;e&&e.isHidden;)e=e.nextSibling;return e}get lastVisibleChild(){let e=this.lastChild;for(;e&&e.isHidden;)e=e.previousSibling;return e}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this._minInvalidChildIndex=null,this.ownerDocument=e}}class x extends M{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){var e;return this.parentNode instanceof x?this.parentNode.level+(((e=this.node)===null||e===void 0?void 0:e.type)==="item"?1:0):0}getMutableNode(){return this.node==null?null:(this.isMutated||(this.node=this.node.clone(),this.isMutated=!0),this.ownerDocument.markDirty(this),this.node)}updateNode(){var e,i,l,n,s,r,o,u;let f=this.nextVisibleSibling,d=this.getMutableNode();if(d!=null){d.index=this.index,d.level=this.level;var c;d.parentKey=this.parentNode instanceof x&&(c=(e=this.parentNode.node)===null||e===void 0?void 0:e.key)!==null&&c!==void 0?c:null;var h;d.prevKey=(h=(l=this.previousVisibleSibling)===null||l===void 0||(i=l.node)===null||i===void 0?void 0:i.key)!==null&&h!==void 0?h:null;var S;d.nextKey=(S=f==null||(n=f.node)===null||n===void 0?void 0:n.key)!==null&&S!==void 0?S:null,d.hasChildNodes=!!this.firstChild;var m;d.firstChildKey=(m=(r=this.firstVisibleChild)===null||r===void 0||(s=r.node)===null||s===void 0?void 0:s.key)!==null&&m!==void 0?m:null;var p;if(d.lastChildKey=(p=(u=this.lastVisibleChild)===null||u===void 0||(o=u.node)===null||o===void 0?void 0:o.key)!==null&&p!==void 0?p:null,(d.colSpan!=null||d.colIndex!=null)&&f){var b,y;let w=((b=d.colIndex)!==null&&b!==void 0?b:d.index)+((y=d.colSpan)!==null&&y!==void 0?y:1);if(f.node!=null&&w!==f.node.colIndex){let q=f.getMutableNode();q.colIndex=w}}}}setProps(e,i,l,n,s){let r,{value:o,textValue:u,id:f,...d}=e;if(this.node==null?(r=new l(f??`react-aria-${++this.ownerDocument.nodeId}`),this.node=r):r=this.getMutableNode(),d.ref=i,r.props=d,r.rendered=n,r.render=s,r.value=o,e["aria-label"]&&(r["aria-label"]=e["aria-label"]),r.textValue=u||(typeof d.children=="string"?d.children:"")||e["aria-label"]||"",f!=null&&f!==r.key)throw new Error("Cannot change the id of an item");d.colSpan!=null&&(r.colSpan=d.colSpan),this.isConnected&&this.ownerDocument.queueUpdate()}get style(){let e=this;return{get display(){return e.isHidden?"none":""},set display(i){let l=i==="none";if(e.isHidden!==l){var n,s;(((n=e.parentNode)===null||n===void 0?void 0:n.firstVisibleChild)===e||((s=e.parentNode)===null||s===void 0?void 0:s.lastVisibleChild)===e)&&e.ownerDocument.markDirty(e.parentNode);let r=e.previousVisibleSibling,o=e.nextVisibleSibling;r&&e.ownerDocument.markDirty(r),o&&e.ownerDocument.markDirty(o),e.isHidden=l,e.ownerDocument.markDirty(e)}}}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,i){super(i),this.nodeType=8,this.isMutated=!0,this._index=0,this.isHidden=!1,this.node=null}}class B extends M{get isConnected(){return!0}createElement(e){return new x(e,this)}getMutableCollection(){return this.nextCollection||(this.nextCollection=this.collection.clone()),this.nextCollection}markDirty(e){this.dirtyNodes.add(e)}addNode(e){if(e.isHidden||e.node==null)return;let i=this.getMutableCollection();if(!i.getItem(e.node.key))for(let l of e)this.addNode(l);i.addNode(e.node)}removeNode(e){for(let i of e)this.removeNode(i);e.node&&this.getMutableCollection().removeNode(e.node.key)}getCollection(){return this.inSubscription?this.collection.clone():(this.queuedRender=!1,this.updateCollection(),this.collection)}updateCollection(){for(let o of this.dirtyNodes)o instanceof x&&(!o.isConnected||o.isHidden)?this.removeNode(o):o.updateChildIndices();for(let o of this.dirtyNodes)o instanceof x?(o.isConnected&&!o.isHidden&&(o.updateNode(),this.addNode(o)),o.node&&this.dirtyNodes.delete(o),o.isMutated=!1):this.dirtyNodes.delete(o);if(this.nextCollection){var e,i,l,n,s,r;this.nextCollection.commit((s=(i=this.firstVisibleChild)===null||i===void 0||(e=i.node)===null||e===void 0?void 0:e.key)!==null&&s!==void 0?s:null,(r=(n=this.lastVisibleChild)===null||n===void 0||(l=n.node)===null||l===void 0?void 0:l.key)!==null&&r!==void 0?r:null,this.isSSR),this.isSSR||(this.collection=this.nextCollection,this.nextCollection=null)}}queueUpdate(){if(!(this.dirtyNodes.size===0||this.queuedRender)){this.queuedRender=!0,this.inSubscription=!0;for(let e of this.subscriptions)e();this.inSubscription=!1}}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.nextCollection=null,this.subscriptions=new Set,this.queuedRender=!1,this.inSubscription=!1,this.collection=e,this.nextCollection=e}}function P(t){let{children:e,items:i,idScope:l,addIdAndValue:n,dependencies:s=[]}=t,r=a.useMemo(()=>new WeakMap,s);return a.useMemo(()=>{if(i&&typeof e=="function"){let f=[];for(let d of i){let c=r.get(d);if(!c){c=e(d);var o,u;let h=(u=(o=c.props.id)!==null&&o!==void 0?o:d.key)!==null&&u!==void 0?u:d.id;if(h==null)throw new Error("Could not determine key for item");l!=null&&(h=l+":"+h),c=a.cloneElement(c,n?{key:h,id:h,value:d}:{key:h}),r.set(d,c)}f.push(c)}return f}else if(typeof e!="function")return e},[e,i,r,l,n])}var g={exports:{}},$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I;function F(){if(I)return $;I=1;var t=L();function e(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var i=typeof Object.is=="function"?Object.is:e,l=t.useState,n=t.useEffect,s=t.useLayoutEffect,r=t.useDebugValue;function o(c,h){var S=h(),m=l({inst:{value:S,getSnapshot:h}}),p=m[0].inst,b=m[1];return s(function(){p.value=S,p.getSnapshot=h,u(p)&&b({inst:p})},[c,S,h]),n(function(){return u(p)&&b({inst:p}),c(function(){u(p)&&b({inst:p})})},[c]),r(S),S}function u(c){var h=c.getSnapshot;c=c.value;try{var S=h();return!i(c,S)}catch{return!0}}function f(c,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return $.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,$}var D;function W(){return D||(D=1,g.exports=F()),g.exports}var O=W();const _=a.createContext(!1),C=a.createContext(null);function oe(t){if(a.useContext(C))return t.content;let{collection:i,document:l}=j(t.createCollection);return v.createElement(v.Fragment,null,v.createElement(H,null,v.createElement(C.Provider,{value:l},t.content)),v.createElement(T,{render:t.children,collection:i}))}function T({collection:t,render:e}){return e(t)}function z(t,e,i){let l=V(),n=a.useRef(l);n.current=l;let s=a.useCallback(()=>n.current?i():e(),[e,i]);return O.useSyncExternalStore(t,s)}const G=typeof v.useSyncExternalStore=="function"?v.useSyncExternalStore:z;function j(t){let[e]=a.useState(()=>new B((t==null?void 0:t())||new K)),i=a.useCallback(r=>e.subscribe(r),[e]),l=a.useCallback(()=>{let r=e.getCollection();return e.isSSR&&e.resetAfterSSR(),r},[e]),n=a.useCallback(()=>(e.isSSR=!0,e.getCollection()),[e]);return{collection:G(i,l,n),document:e}}const k=a.createContext(null);function J(t){var e;return e=class extends A{},e.type=t,e}function Q(t,e,i,l,n,s){typeof t=="string"&&(t=J(t));let r=a.useCallback(u=>{u==null||u.setProps(e,i,t,l,s)},[e,i,l,s,t]),o=a.useContext(k);if(o){let u=o.ownerDocument.nodesByProps.get(e);return u||(u=o.ownerDocument.createElement(t.type),u.setProps(e,i,t,l,s),o.appendChild(u),o.ownerDocument.updateCollection(),o.ownerDocument.nodesByProps.set(e,u)),n?v.createElement(k.Provider,{value:u},n):null}return v.createElement(t.type,{ref:r},n)}function se(t,e){let i=({node:n})=>e(n.props,n.props.ref,n),l=a.forwardRef((n,s)=>{let r=a.useContext(E);if(!a.useContext(_)){if(e.length>=3)throw new Error(e.name+" cannot be rendered outside a collection.");return e(n,s)}return Q(t,n,s,"children"in n?n.children:null,null,u=>v.createElement(E.Provider,{value:r},v.createElement(i,{node:u})))});return l.displayName=e.name,l}function X(t){return P({...t,addIdAndValue:!0})}const R=a.createContext(null);function ue(t){let e=a.useContext(R),i=((e==null?void 0:e.dependencies)||[]).concat(t.dependencies);var l;let n=(l=t.idScope)!==null&&l!==void 0?l:e==null?void 0:e.idScope,s=X({...t,idScope:n,dependencies:i});return a.useContext(C)&&(s=v.createElement(Y,null,s)),e=a.useMemo(()=>({dependencies:i,idScope:n}),[n,...i]),v.createElement(R.Provider,{value:e},s)}function Y({children:t}){let e=a.useContext(C),i=a.useMemo(()=>v.createElement(C.Provider,{value:null},v.createElement(_.Provider,{value:!0},t)),[t]);return V()?v.createElement(k.Provider,{value:e},i):U.createPortal(i,e)}const de=a.createContext(null),Z={CollectionRoot({collection:t,renderDropIndicator:e}){return N(t,null,e)},CollectionBranch({collection:t,parent:e,renderDropIndicator:i}){return N(t,e,i)}};function N(t,e,i){return P({items:e?t.getChildren(e.key):t,dependencies:[i],children(l){let n=l.render(l);return!i||l.type!=="item"?n:v.createElement(v.Fragment,null,i({type:"item",key:l.key,dropPosition:"before"}),n,ee(t,l,i))}})}function ee(t,e,i){let l=e.key,n=t.getKeyAfter(l),s=n!=null?t.getItem(n):null;for(;s!=null&&s.type!=="item";)n=t.getKeyAfter(s.key),s=n!=null?t.getItem(n):null;let r=e.nextKey!=null?t.getItem(e.nextKey):null;for(;r!=null&&r.type!=="item";)r=r.nextKey!=null?t.getItem(r.nextKey):null;let o=[];if(r==null){let u=e;for(;(u==null?void 0:u.type)==="item"&&(!s||u.parentKey!==s.parentKey&&s.level<u.level);){let f=i({type:"item",key:u.key,dropPosition:"after"});a.isValidElement(f)&&o.push(a.cloneElement(f,{key:`${u.key}-after`})),u=u.parentKey!=null?t.getItem(u.parentKey):null}}return o}const ae=a.createContext(Z);function ce(t){return a.useMemo(()=>t!=null?new Set([t]):null,[t])}export{oe as $,ue as a,se as b,ae as c,ce as d,Z as e,de as f};
