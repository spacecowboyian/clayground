import{z as D,q as F,$ as y,r as T,x as I,s as N,u as w,t as O,v as V,d as L,w as M}from"./Hidden-CJaOgpXL.js";import{r as g,R as E}from"./index-Dx_1l3Sb.js";const A=7e3;let d=null;function C(t,e="assertive",i=A){d?d.announce(t,e,i):(d=new R,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?d.announce(t,e,i):setTimeout(()=>{d!=null&&d.isAttached()&&(d==null||d.announce(t,e,i))},100))}function W(t){d&&d.clear(t)}class R{isAttached(){var e;return(e=this.node)===null||e===void 0?void 0:e.isConnected}createLog(e){let i=document.createElement("div");return i.setAttribute("role","log"),i.setAttribute("aria-live",e),i.setAttribute("aria-relevant","additions"),i}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,i="assertive",s=A){var a,n;if(!this.node)return;let r=document.createElement("div");typeof e=="object"?(r.setAttribute("role","img"),r.setAttribute("aria-labelledby",e["aria-labelledby"])):r.textContent=e,i==="assertive"?(a=this.assertiveLog)===null||a===void 0||a.appendChild(r):(n=this.politeLog)===null||n===void 0||n.appendChild(r),e!==""&&setTimeout(()=>{r.remove()},s)}clear(e){this.node&&((!e||e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}function S(t,e){let{elementType:i="button",isDisabled:s,onPress:a,onPressStart:n,onPressEnd:r,onPressUp:m,onPressChange:l,preventFocusOnPress:$,allowFocusWhenDisabled:x,onClick:h,href:v,target:P,rel:c,type:u="button"}=t,o;i==="button"?o={type:u,disabled:s,form:t.form,formAction:t.formAction,formEncType:t.formEncType,formMethod:t.formMethod,formNoValidate:t.formNoValidate,formTarget:t.formTarget,name:t.name,value:t.value}:o={role:"button",href:i==="a"&&!s?v:void 0,target:i==="a"?P:void 0,type:i==="input"?u:void 0,disabled:i==="input"?s:void 0,"aria-disabled":!s||i==="input"?void 0:s,rel:i==="a"?c:void 0};let{pressProps:b,isPressed:p}=D({onPressStart:n,onPressEnd:r,onPressChange:l,onPress:a,onPressUp:m,onClick:h,isDisabled:s,preventFocusOnPress:$,ref:e}),{focusableProps:f}=F(t,e);x&&(f.tabIndex=s?-1:f.tabIndex);let _=y(f,b,T(t,{labelable:!0}));return{isPressed:p,buttonProps:y(o,_,{"aria-haspopup":t["aria-haspopup"],"aria-expanded":t["aria-expanded"],"aria-controls":t["aria-controls"],"aria-pressed":t["aria-pressed"],"aria-current":t["aria-current"],"aria-disabled":t["aria-disabled"]})}}const k=g.createContext(null),H=g.createContext({}),q=I(function(e,i){[e,i]=N(e,i,H);let s=e,{isPending:a}=s,{buttonProps:n,isPressed:r}=S(e,i);n=U(n,a);let{focusProps:m,isFocused:l,isFocusVisible:$}=w(e),{hoverProps:x,isHovered:h}=O({...e,isDisabled:e.isDisabled||a}),v={isHovered:h,isPressed:(s.isPressed||r)&&!a,isFocused:l,isFocusVisible:$,isDisabled:e.isDisabled||!1,isPending:a??!1},P=V({...e,values:v,defaultClassName:"react-aria-Button"}),c=L(n.id),u=L(),o=n["aria-labelledby"];a&&(o?o=`${o} ${u}`:n["aria-label"]&&(o=`${c} ${u}`));let b=g.useRef(a);g.useEffect(()=>{let f={"aria-labelledby":o||c};(!b.current&&l&&a||b.current&&l&&!a)&&C(f,"assertive"),b.current=a},[a,l,o,c]);let p=T(e,{global:!0});return delete p.onClick,E.createElement(M.button,{...y(p,P,n,m,x),type:n.type==="submit"&&a?"button":n.type,id:c,ref:i,"aria-labelledby":o,slot:e.slot||void 0,"aria-disabled":a?"true":n["aria-disabled"],"data-disabled":e.isDisabled||void 0,"data-pressed":v.isPressed||void 0,"data-hovered":h||void 0,"data-focused":l||void 0,"data-pending":a||void 0,"data-focus-visible":$||void 0},E.createElement(k.Provider,{value:{id:u}},P.children))});function U(t,e){if(e){for(const i in t)i.startsWith("on")&&!(i.includes("Focus")||i.includes("Blur"))&&(t[i]=void 0);t.href=void 0,t.target=void 0}return t}export{q as $,H as a,C as b,W as c};
