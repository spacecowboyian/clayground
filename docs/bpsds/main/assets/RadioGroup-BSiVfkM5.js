import{j as h}from"./jsx-runtime-Cf8x2fCZ.js";import{$ as W,b as H,c as A,d as K}from"./Text-CtOaLkQJ.js";import{z as E,q as U,$ as V,r as N,a as z,d as J,G as Q,s as _,H as X,I as Y,v as k,w as O,B as Z,F as ee,D as ae,J as ie,u as de,t as re}from"./Hidden-CJaOgpXL.js";import{a as le,b as te,$ as se,c as oe,d as ne}from"./Form-CtNYcFWn.js";import{$ as ce,a as fe}from"./SelectionIndicator-ESC2ylKy.js";import{r as x,R as y}from"./index-Dx_1l3Sb.js";import{$ as ue}from"./useControlledState-BKOD5Axx.js";import{$ as be}from"./FocusScope-DkXgkvhN.js";import{$ as $e}from"./context-BGnht7tc.js";import{$ as ve}from"./VisuallyHidden-DzgZ0AbB.js";import{c as M}from"./cn-DjqsqOe8.js";const j=new WeakMap;function pe(a,e,d){let{value:i,children:o,"aria-label":l,"aria-labelledby":p,onPressStart:r,onPressEnd:f,onPressChange:n,onPress:t,onPressUp:s,onClick:b}=a;const u=a.isDisabled||e.isDisabled;let g=e.selectedValue===i,P=I=>{I.stopPropagation(),e.setSelectedValue(i)},{pressProps:R,isPressed:F}=E({onPressStart:r,onPressEnd:f,onPressChange:n,onPress:t,onPressUp:s,onClick:b,isDisabled:u}),{pressProps:q,isPressed:D}=E({onPressStart:r,onPressEnd:f,onPressChange:n,onPressUp:s,onClick:b,isDisabled:u,onPress(I){var B;t==null||t(I),e.setSelectedValue(i),(B=d.current)===null||B===void 0||B.focus()}}),{focusableProps:S}=U(V(a,{onFocus:()=>e.setLastFocusedValue(i)}),d),m=V(R,S),c=N(a,{labelable:!0}),$=-1;e.selectedValue!=null?e.selectedValue===i&&($=0):(e.lastFocusedValue===i||e.lastFocusedValue==null)&&($=0),u&&($=void 0);let{name:v,form:w,descriptionId:G,errorMessageId:L,validationBehavior:C}=j.get(e);return le(d,e.defaultSelectedValue,e.setSelectedValue),te({validationBehavior:C},e,d),{labelProps:V(q,x.useMemo(()=>({onClick:I=>I.preventDefault(),onMouseDown:I=>I.preventDefault()}),[])),inputProps:V(c,{...m,type:"radio",name:v,form:w,tabIndex:$,disabled:u,required:e.isRequired&&C==="native",checked:g,value:i,onChange:P,"aria-describedby":[a["aria-describedby"],e.isInvalid?L:null,G].filter(Boolean).join(" ")||void 0}),isDisabled:u,isSelected:g,isPressed:F||D}}function me(a,e){let{name:d,form:i,isReadOnly:o,isRequired:l,isDisabled:p,orientation:r="vertical",validationBehavior:f="aria"}=a,{direction:n}=$e(),{isInvalid:t,validationErrors:s,validationDetails:b}=e.displayValidation,{labelProps:u,fieldProps:g,descriptionProps:P,errorMessageProps:R}=W({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||s}),F=N(a,{labelable:!0}),{focusWithinProps:q}=z({onBlurWithin(m){var c;(c=a.onBlur)===null||c===void 0||c.call(a,m),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),D=m=>{let c;switch(m.key){case"ArrowRight":n==="rtl"&&r!=="vertical"?c="prev":c="next";break;case"ArrowLeft":n==="rtl"&&r!=="vertical"?c="next":c="prev";break;case"ArrowDown":c="next";break;case"ArrowUp":c="prev";break;default:return}m.preventDefault();let $=be(m.currentTarget,{from:m.target,accept:w=>w instanceof Q(w).HTMLInputElement&&w.type==="radio"}),v;c==="next"?(v=$.nextNode(),v||($.currentNode=m.currentTarget,v=$.firstChild())):(v=$.previousNode(),v||($.currentNode=m.currentTarget,v=$.lastChild())),v&&(v.focus(),e.setSelectedValue(v.value))},S=J(d);return j.set(e,{name:S,form:i,descriptionId:P.id,errorMessageId:R.id,validationBehavior:f}),{radioGroupProps:V(F,{role:"radiogroup",onKeyDown:D,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":o||void 0,"aria-required":l||void 0,"aria-disabled":p||void 0,"aria-orientation":r,...g,...q}),labelProps:u,descriptionProps:P,errorMessageProps:R,isInvalid:t,validationErrors:s,validationDetails:b}}let xe=Math.round(Math.random()*1e10),Pe=0;function ge(a){let e=x.useMemo(()=>a.name||`radio-group-${xe}-${++Pe}`,[a.name]);var d;let[i,o]=ue(a.value,(d=a.defaultValue)!==null&&d!==void 0?d:null,a.onChange),[l]=x.useState(i),[p,r]=x.useState(null),f=se({...a,value:i}),n=b=>{!a.isReadOnly&&!a.isDisabled&&(o(b),f.commitValidation())},t=f.displayValidation.isInvalid;var s;return{...f,name:e,selectedValue:i,defaultSelectedValue:a.value!==void 0?l:(s=a.defaultValue)!==null&&s!==void 0?s:null,setSelectedValue:n,lastFocusedValue:p,setLastFocusedValue:r,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(t?"invalid":null),isInvalid:t}}const Re=x.createContext(null),he=x.createContext(null),T=x.createContext(null),ye=x.forwardRef(function(e,d){[e,d]=_(e,d,Re);let{validationBehavior:i}=X(oe)||{};var o,l;let p=(l=(o=e.validationBehavior)!==null&&o!==void 0?o:i)!==null&&l!==void 0?l:"native",r=ge({...e,validationBehavior:p}),[f,n]=Y(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:t,labelProps:s,descriptionProps:b,errorMessageProps:u,...g}=me({...e,label:n,validationBehavior:p},r),P=k({...e,values:{orientation:e.orientation||"vertical",isDisabled:r.isDisabled,isReadOnly:r.isReadOnly,isRequired:r.isRequired,isInvalid:r.isInvalid,state:r},defaultClassName:"react-aria-RadioGroup"}),R=N(e,{global:!0});return y.createElement(O.div,{...V(R,P,t),ref:d,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":r.isInvalid||void 0,"data-disabled":r.isDisabled||void 0,"data-readonly":r.isReadOnly||void 0,"data-required":r.isRequired||void 0},y.createElement(Z,{values:[[T,r],[H,{...s,ref:f,elementType:"span"}],[A,{slots:{description:b,errorMessage:u}}],[ne,g]]},y.createElement(ce,null,P.children)))}),Ve=x.forwardRef(function(e,d){let{inputRef:i=null,...o}=e;[e,d]=_(o,d,he);let l=y.useContext(T),p=ee(x.useMemo(()=>ae(i,e.inputRef!==void 0?e.inputRef:null),[i,e.inputRef])),{labelProps:r,inputProps:f,isSelected:n,isDisabled:t,isPressed:s}=pe({...ie(e),children:typeof e.children=="function"?!0:e.children},l,p),{isFocused:b,isFocusVisible:u,focusProps:g}=de(),P=t||l.isReadOnly,{hoverProps:R,isHovered:F}=re({...e,isDisabled:P}),q=k({...e,defaultClassName:"react-aria-Radio",values:{isSelected:n,isPressed:s,isHovered:F,isFocused:b,isFocusVisible:u,isDisabled:t,isReadOnly:l.isReadOnly,isInvalid:l.isInvalid,isRequired:l.isRequired}}),D=N(e,{global:!0});return delete D.id,delete D.onClick,y.createElement(O.label,{...V(D,r,R,q),ref:d,"data-selected":n||void 0,"data-pressed":s||void 0,"data-hovered":F||void 0,"data-focused":b||void 0,"data-focus-visible":u||void 0,"data-disabled":t||void 0,"data-readonly":l.isReadOnly||void 0,"data-invalid":l.isInvalid||void 0,"data-required":l.isRequired||void 0},y.createElement(ve,{elementType:"span"},y.createElement("input",{...V(f,g),ref:p})),y.createElement(fe.Provider,{value:{isSelected:n}},q.children))});function De({label:a,className:e,children:d,...i}){return h.jsxs(ye,{className:M("flex flex-col gap-2",e),...i,children:[a&&h.jsx(K,{className:"text-xs font-semibold uppercase tracking-wider text-[var(--bps-gray-600)] mb-1",children:a}),d]})}function Ie({children:a,className:e,...d}){return h.jsx(Ve,{className:M("flex items-center gap-2 cursor-default group text-sm text-[var(--bps-gray-700)] select-none",e),...d,children:({isSelected:i,isDisabled:o})=>h.jsxs(h.Fragment,{children:[h.jsx("div",{className:M("w-4 h-4 rounded-full border-2 flex items-center justify-center transition-colors",i?"border-[var(--bps-green-dark)] bg-white":"border-[var(--bps-gray-300)] bg-white",o&&"opacity-50","group-focus-visible:ring-2 group-focus-visible:ring-[var(--bps-green)] group-focus-visible:ring-offset-1"),children:i&&h.jsx("div",{className:"w-2 h-2 rounded-full bg-[var(--bps-green-dark)]"})}),h.jsx("span",{className:M(o&&"opacity-50"),children:a})]})})}De.__docgenInfo={description:"",methods:[],displayName:"RadioGroup",props:{label:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["RadioGroupProps"]};Ie.__docgenInfo={description:"",methods:[],displayName:"Radio",props:{className:{required:!1,tsType:{name:"string"},description:""}},composes:["RadioProps"]};export{De as R,Ie as a};
